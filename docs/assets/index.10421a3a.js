import{d as E,l as s,o as i,e as p,w as n,a,q as c,n as m,a2 as O,m as F,t as z,b as f,a3 as Z,_ as S,r,D as G,i as H,c as D,Z as J,F as B,B as K,M as Q}from"./index.b3d31375.js";import R from"./shop.b9551bba.js";import W from"./service.ddfaf294.js";import X from"./user-avatar.d8114f9a.js";import Y from"./laptop.0f559fec.js";import ee from"./more.688c36ea.js";import te from"./DialogForm.28e8fbc4.js";import{a as ae}from"./list.b9b15688.js";const oe={class:"list-card-item_detail--name"},ne={class:"list-card-item_detail--desc"},ue=E({__name:"index",props:{product:{type:Object}},emits:["manage-product","delete-item"],setup(o,{emit:y}){const t=["A","B","C","D","E"],v=d=>{y("manage-product",d)},b=d=>{y("delete-item",d)};return(d,A)=>{const x=s("t-avatar"),_=s("t-tag"),C=s("t-avatar-group"),g=s("t-button"),k=s("t-dropdown"),h=s("t-card");return i(),p(h,{theme:"poster2",bordered:!1},{avatar:n(()=>[a(x,{size:"56px"},{icon:n(()=>[o.product.type===1?(i(),p(c(R),{key:0})):m("v-if",!0),o.product.type===2?(i(),p(c(O),{key:1})):m("v-if",!0),o.product.type===3?(i(),p(c(W),{key:2})):m("v-if",!0),o.product.type===4?(i(),p(c(X),{key:3})):m("v-if",!0),o.product.type===5?(i(),p(c(Y),{key:4})):m("v-if",!0)]),_:1})]),status:n(()=>[a(_,{theme:o.product.isSetup?"success":"default",disabled:!o.product.isSetup},{default:n(()=>[F(z(o.product.isSetup?"\u5DF2\u542F\u7528":"\u5DF2\u505C\u7528"),1)]),_:1},8,["theme","disabled"])]),content:n(()=>[f("p",oe,z(o.product.name),1),f("p",ne,z(o.product.description),1)]),footer:n(()=>[a(C,{cascading:"left-up",max:2},{default:n(()=>[a(x,null,{default:n(()=>[F(z(t[o.product.type-1]),1)]),_:1}),a(x,null,{icon:n(()=>[a(c(Z))]),_:1})]),_:1})]),actions:n(()=>[a(k,{disabled:!o.product.isSetup,trigger:"click",options:[{content:"\u7BA1\u7406",value:"manage",onClick:()=>v(o.product)},{content:"\u5220\u9664",value:"delete",onClick:()=>b(o.product)}]},{default:n(()=>[a(g,{theme:"default",disabled:!o.product.isSetup,shape:"square",variant:"text"},{default:n(()=>[a(c(ee))]),_:1},8,["disabled"])]),_:1},8,["disabled","options"])]),_:1})}}});const se=S(ue,[["__scopeId","data-v-0ce9e723"],["__file","/Users/tzz/src/enway/gsosweb/src/components/product-card/index.vue"]]),le={class:"list-card-operation"},ie={class:"search-input"},ce={class:"list-card-items"},de={class:"list-card-pagination"},re={key:1,class:"list-card-loading"},pe={name:"ListCard"},ve=E({...pe,setup(o){const y={name:"",status:"",description:"",type:"",mark:"",amount:0},t=r({current:1,pageSize:12,total:0}),v=r(void 0),b=r([]),d=r(!0),A=async()=>{try{const{list:e}=await ae();b.value=e,t.value={...t.value,total:e.length}}catch(e){console.log(e)}finally{d.value=!1}},x=G(()=>v.value?`\u786E\u8BA4\u5220\u9664\u540E${v.value.name}\u7684\u6240\u6709\u4EA7\u54C1\u4FE1\u606F\u5C06\u88AB\u6E05\u7A7A, \u4E14\u65E0\u6CD5\u6062\u590D`:"");H(()=>{A()});const _=r(!1),C=r(""),g=r(!1),k=r({...y}),h=e=>{t.value.pageSize=e,t.value.current=1},V=e=>{t.value.current=e},w=e=>{g.value=!0,v.value=e},I=()=>{const{index:e}=v.value;b.value.splice(e-1,1),g.value=!1,Q.success("\u5220\u9664\u6210\u529F")},M=()=>{v.value=void 0,k.value={...y}},U=e=>{_.value=!0,k.value={...e,status:e!=null&&e.isSetup?"1":"0"}};return(e,l)=>{const L=s("t-button"),P=s("t-input"),N=s("t-col"),$=s("t-row"),T=s("t-pagination"),q=s("t-loading"),j=s("t-dialog");return i(),D("div",null,[f("div",le,[a(L,{onClick:l[0]||(l[0]=u=>_.value=!0)},{default:n(()=>[F(" \u65B0\u5EFA\u4EA7\u54C1 ")]),_:1}),f("div",ie,[a(P,{modelValue:C.value,"onUpdate:modelValue":l[1]||(l[1]=u=>C.value=u),placeholder:"\u8BF7\u8F93\u5165\u4F60\u9700\u8981\u641C\u7D22\u7684\u5185\u5BB9",clearable:""},{"suffix-icon":n(()=>[C.value===""?(i(),p(c(J),{key:0,size:"var(--td-comp-size-xxxs)"})):m("v-if",!0)]),_:1},8,["modelValue"])])]),a(te,{visible:_.value,"onUpdate:visible":l[2]||(l[2]=u=>_.value=u),data:k.value},null,8,["visible","data"]),t.value.total>0&&!d.value?(i(),D(B,{key:0},[f("div",ce,[a($,{gutter:[16,16]},{default:n(()=>[(i(!0),D(B,null,K(b.value.slice(t.value.pageSize*(t.value.current-1),t.value.pageSize*t.value.current),u=>(i(),p(N,{key:u.index,lg:4,xs:6,xl:3},{default:n(()=>[a(se,{class:"list-card-item",product:u,onDeleteItem:w,onManageProduct:U},null,8,["product"])]),_:2},1024))),128))]),_:1})]),f("div",de,[a(T,{modelValue:t.value.current,"onUpdate:modelValue":l[3]||(l[3]=u=>t.value.current=u),"page-size":t.value.pageSize,"onUpdate:pageSize":l[4]||(l[4]=u=>t.value.pageSize=u),total:t.value.total,"page-size-options":[12,24,36],onPageSizeChange:h,onCurrentChange:V},null,8,["modelValue","page-size","total"])])],64)):d.value?(i(),D("div",re,[a(q,{size:"large",text:"\u52A0\u8F7D\u6570\u636E\u4E2D..."})])):m("v-if",!0),a(j,{visible:g.value,"onUpdate:visible":l[5]||(l[5]=u=>g.value=u),header:"\u786E\u8BA4\u5220\u9664\u6240\u9009\u4EA7\u54C1\uFF1F",body:c(x),"on-cancel":M,onConfirm:I},null,8,["visible","body"])])}}});const ke=S(ve,[["__scopeId","data-v-909588c5"],["__file","/Users/tzz/src/enway/gsosweb/src/pages/list/card/index.vue"]]);export{ke as default};

import{d as J,v as ee,r as m,D as x,i as te,Q as ae,l as s,o as n,c as p,a,w as t,q as l,a3 as ue,a4 as oe,C as le,m as d,b,Z as v,e as y,n as i,$ as E,a0 as S,M as ne,_ as se}from"./index.59422791.js";import{T as V}from"./index.e47dcb2f.js";import{g as ie}from"./list.c109778b.js";const ce={class:"list-common-table"},de={class:"table-container"},re={key:0},me={key:1},pe={key:2},_e={key:0,class:"payment-col"},fe={key:1,class:"payment-col"},Ce=["onClick"],ve=["onClick"],ye=J({__name:"CommonTable",setup(ge){const I=ee(),P=[{title:"\u5408\u540C\u540D\u79F0",fixed:"left",width:280,ellipsis:!0,align:"left",colKey:"name"},{title:"\u5408\u540C\u72B6\u6001",colKey:"status",width:160},{title:"\u5408\u540C\u7F16\u53F7",width:160,ellipsis:!0,colKey:"no"},{title:"\u5408\u540C\u7C7B\u578B",width:160,ellipsis:!0,colKey:"contractType"},{title:"\u5408\u540C\u6536\u4ED8\u7C7B\u578B",width:160,ellipsis:!0,colKey:"paymentType"},{title:"\u5408\u540C\u91D1\u989D (\u5143)",width:160,ellipsis:!0,colKey:"amount"},{align:"left",fixed:"right",width:160,colKey:"op",title:"\u64CD\u4F5C"}],c=m({...{name:"",no:void 0,status:void 0,type:""}}),w="index",U="top",O=!0,g=m({defaultPageSize:20,total:100,defaultCurrent:1}),h=m(!1),_=m([]),F=m(!1),K=async()=>{F.value=!0;try{const{list:u}=await ie();_.value=u,g.value={...g.value,total:u.length}}catch(u){console.log(u)}finally{F.value=!1}},f=m(-1),M=x(()=>{if(f.value>-1){const{name:u}=_.value[f.value];return`\u5220\u9664\u540E\uFF0C${u}\u7684\u6240\u6709\u5408\u540C\u4FE1\u606F\u5C06\u88AB\u6E05\u7A7A\uFF0C\u4E14\u65E0\u6CD5\u6062\u590D`}return""}),B=()=>{f.value=-1},R=()=>{_.value.splice(f.value,1),g.value.total=_.value.length,h.value=!1,ne.success("\u5220\u9664\u6210\u529F"),B()},L=()=>{B()};te(()=>{K()});const Y=({row:u})=>{f.value=u.rowIndex,h.value=!0},$=u=>{console.log(u)},z=u=>{console.log(u)},G=(u,o)=>{console.log("\u5206\u9875\u53D8\u5316",u,o)},W=(u,o)=>{console.log("\u7EDF\u4E00Change",u,o)},X=({text:u,row:o})=>{console.log(u,o)},q=x(()=>({offsetTop:I.isUseTabsRouter?48:0,container:`.${ae}-layout`}));return(u,o)=>{const D=s("t-input"),T=s("t-form-item"),r=s("t-col"),k=s("t-select"),A=s("t-row"),N=s("t-button"),H=s("t-form"),C=s("t-tag"),Q=s("t-table"),Z=s("t-dialog");return n(),p("div",ce,[a(H,{ref:"form",data:c.value,"label-width":80,colon:"",onReset:$,onSubmit:z},{default:t(()=>[a(A,null,{default:t(()=>[a(r,{span:10},{default:t(()=>[a(A,{gutter:[24,24]},{default:t(()=>[a(r,{span:4},{default:t(()=>[a(T,{label:"\u5408\u540C\u540D\u79F0",name:"name"},{default:t(()=>[a(D,{modelValue:c.value.name,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value.name=e),class:"form-item-content",type:"search",placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u540D\u79F0",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{span:4},{default:t(()=>[a(T,{label:"\u5408\u540C\u72B6\u6001",name:"status"},{default:t(()=>[a(k,{modelValue:c.value.status,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value.status=e),class:"form-item-content",options:l(ue),placeholder:"\u8BF7\u9009\u62E9\u5408\u540C\u72B6\u6001"},null,8,["modelValue","options"])]),_:1})]),_:1}),a(r,{span:4},{default:t(()=>[a(T,{label:"\u5408\u540C\u7F16\u53F7",name:"no"},{default:t(()=>[a(D,{modelValue:c.value.no,"onUpdate:modelValue":o[2]||(o[2]=e=>c.value.no=e),class:"form-item-content",placeholder:"\u8BF7\u8F93\u5165\u5408\u540C\u7F16\u53F7",style:{minWidth:"134px"}},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{span:4},{default:t(()=>[a(T,{label:"\u5408\u540C\u7C7B\u578B",name:"type"},{default:t(()=>[a(k,{modelValue:c.value.type,"onUpdate:modelValue":o[3]||(o[3]=e=>c.value.type=e),style:{display:"inline-block"},class:"form-item-content",options:l(oe),placeholder:"\u8BF7\u9009\u62E9\u5408\u540C\u7C7B\u578B"},null,8,["modelValue","options"])]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{span:2,class:"operation-container"},{default:t(()=>[a(N,{theme:"primary",type:"submit",style:le({marginLeft:"var(--td-comp-margin-s)"})},{default:t(()=>[d(" \u67E5\u8BE2 ")]),_:1},8,["style"]),a(N,{type:"reset",variant:"base",theme:"default"},{default:t(()=>[d(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"]),b("div",de,[a(Q,{data:_.value,columns:P,"row-key":w,"vertical-align":l(U),hover:O,pagination:g.value,loading:F.value,"header-affixed-top":l(q),onPageChange:G,onChange:W},{status:t(({row:e})=>[e.status===l(v).FAIL?(n(),y(C,{key:0,theme:"danger",variant:"light"},{default:t(()=>[d(" \u5BA1\u6838\u5931\u8D25 ")]),_:1})):i("v-if",!0),e.status===l(v).AUDIT_PENDING?(n(),y(C,{key:1,theme:"warning",variant:"light"},{default:t(()=>[d(" \u5F85\u5BA1\u6838 ")]),_:1})):i("v-if",!0),e.status===l(v).EXEC_PENDING?(n(),y(C,{key:2,theme:"warning",variant:"light"},{default:t(()=>[d(" \u5F85\u5C65\u884C ")]),_:1})):i("v-if",!0),e.status===l(v).EXECUTING?(n(),y(C,{key:3,theme:"success",variant:"light"},{default:t(()=>[d(" \u5C65\u884C\u4E2D ")]),_:1})):i("v-if",!0),e.status===l(v).FINISH?(n(),y(C,{key:4,theme:"success",variant:"light"},{default:t(()=>[d(" \u5DF2\u5B8C\u6210 ")]),_:1})):i("v-if",!0)]),contractType:t(({row:e})=>[e.contractType===l(E).MAIN?(n(),p("p",re,"\u5BA1\u6838\u5931\u8D25")):i("v-if",!0),e.contractType===l(E).SUB?(n(),p("p",me,"\u5F85\u5BA1\u6838")):i("v-if",!0),e.contractType===l(E).SUPPLEMENT?(n(),p("p",pe,"\u5F85\u5C65\u884C")):i("v-if",!0)]),paymentType:t(({row:e})=>[e.paymentType===l(S).PAYMENT?(n(),p("p",_e,[d(" \u4ED8\u6B3E"),a(V,{class:"dashboard-item-trend",type:"up"})])):i("v-if",!0),e.paymentType===l(S).RECEIPT?(n(),p("p",fe,[d(" \u6536\u6B3E"),a(V,{class:"dashboard-item-trend",type:"down"})])):i("v-if",!0)]),op:t(e=>[b("a",{class:"t-button-link",onClick:j=>X(e)},"\u7BA1\u7406",8,Ce),b("a",{class:"t-button-link",onClick:j=>Y(e)},"\u5220\u9664",8,ve)]),_:1},8,["data","vertical-align","pagination","loading","header-affixed-top"]),a(Z,{visible:h.value,"onUpdate:visible":o[4]||(o[4]=e=>h.value=e),header:"\u786E\u8BA4\u5220\u9664\u5F53\u524D\u6240\u9009\u5408\u540C\uFF1F",body:l(M),"on-cancel":L,onConfirm:R},null,8,["visible","body"])])])}}});const Ee=se(ye,[["__scopeId","data-v-ca50ab34"],["__file","/Users/tzz/src/enway/gsosweb/src/pages/list/components/CommonTable.vue"]]);export{Ee as default};

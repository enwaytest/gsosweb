import{a6 as Ti,U as E,a7 as ve,a8 as J,a9 as wr,aa as de,ab as j,_ as I,c as D,ac as Ai,ad as Sr,ae as Ce,af as Mi,ag as xt,ah as Li,ai as H,aj as te,ak as Cr,al as Tr,am as Bt,an as Te,ao as Ii,R as ki,ap as ee,aq as Pi,ar as Ar,as as Mr,at as Lr,au as Ir,av as kr,aw as Pr,ax as Di,ay as Oi,az as Bi,aA as Ei,aB as Ri,aC as zi,aD as Ni,aE as Gi,aF as Ae,aG as Hi,aH as nt,h as Me,aI as Le,aJ as re,aK as Dr,e as _,aL as Fi,aM as Vi,aN as Wi,aO as $i,aP as Yi,aQ as Ct,aR as Or,aS as Xi,l as Ie,aT as Tt,aU as Rt,aV as Zi,aW as K,X as W,aX as Ui,aY as Br,aZ as Er,a_ as Ki,a$ as ct,b0 as bt,x as Rr,g as _t,b1 as lt,j as pe,b2 as zt,b3 as zr,Z as at,b4 as Ht,b5 as Nr,V as U,b6 as qi,b7 as Gr,b8 as ke,b9 as rt,G as ht,ba as Hr,bb as Nt,D as O,bc as Ft,bd as At,W as vt,be as ji,bf as Ji,bg as Fr,bh as Qi,bi as tn,m as Vr,B as Q,bj as V,bk as en,bl as rn,bm as ge,bn as nn,bo as B,bp as an,u as ft,bq as ut,br as on,bs as Wr,bt as sn,bu as Gt,bv as ln,bw as $r,bx as un,by as cn,bz as hn,bA as fn,bB as vn,bC as Pe,bD as Xt,bE as dn,bF as De,bG as Oe,bH as pn,bI as gn,bJ as yn,p as xn,bK as mn,bL as bn,bM as _n,r as wn,q as Be,bN as Sn,bO as Cn,O as Tn,bP as An}from"./charts.666efdc1.js";var Yr=function(){function r(e){this._setting=e||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r}();Ti(Yr);const Y=Yr;var Mn=function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}return r.createByAxisModel=function(e){var t=e.option,i=t.data,n=i&&E(i,Ln);return new r({categories:n,needCollect:!n,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(typeof e!="string"&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var n=this._getOrCreateMap();return t=n.get(e),t==null&&(i?(t=this.categories.length,this.categories[t]=e,n.set(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=ve(this.categories))},r}();function Ln(r){return J(r)&&r.value!=null?r.value:r+""}const ie=Mn;var Ee=j;function In(r,e,t,i){var n={},a=r[1]-r[0],o=n.interval=wr(a/e,!0);t!=null&&o<t&&(o=n.interval=t),i!=null&&o>i&&(o=n.interval=i);var s=n.intervalPrecision=Xr(o),l=n.niceTickExtent=[Ee(Math.ceil(r[0]/o)*o,s),Ee(Math.floor(r[1]/o)*o,s)];return kn(l,r),n}function Xr(r){return de(r)+2}function Re(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function kn(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),Re(r,0,e),Re(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function Vt(r,e){return r>=e[0]&&r<=e[1]}function Wt(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function $t(r,e){return r*(e[1]-e[0])+e[0]}var Zr=function(r){I(e,r);function e(t){var i=r.call(this,t)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new ie({})),D(n)&&(n=new ie({categories:E(n,function(a){return J(a)?a.value:a})})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return e.prototype.parse=function(t){return typeof t=="string"?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),Vt(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),Wt(t,this._extent)},e.prototype.scale=function(t){return t=Math.round($t(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);o<l;++o){var u=i[o];n[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;n.push(c),a[c]=o}},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[i];return n==null?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(Y);Y.registerClass(Zr);const Ur=Zr;var tt=j,Kr=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Vt(t,this._extent)},e.prototype.normalize=function(t){return Wt(t,this._extent)},e.prototype.scale=function(t){return $t(t,this._extent)},e.prototype.setExtent=function(t,i){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(i)||(n[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Xr(t)},e.prototype.getTicks=function(t){var i=this._interval,n=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!i)return s;var l=1e4;n[0]<a[0]&&(t?s.push({value:tt(a[0]-i,o)}):s.push({value:n[0]}));for(var u=a[0];u<=a[1]&&(s.push({value:u}),u=tt(u+i,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:a[1];return n[1]>c&&(t?s.push({value:tt(c+i,o)}):s.push({value:n[1]})),s},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),n=[],a=this.getExtent(),o=1;o<i.length;o++){for(var s=i[o],l=i[o-1],u=0,c=[],h=s.value-l.value,f=h/t;u<t-1;){var v=tt(l.value+(u+1)*f);v>a[0]&&v<a[1]&&c.push(v),u++}n.push(c)}return n},e.prototype.getLabel=function(t,i){if(t==null)return"";var n=i&&i.precision;n==null?n=de(t.value)||0:n==="auto"&&(n=this._intervalPrecision);var a=tt(t.value,n,!0);return Ai(a)},e.prototype.niceTicks=function(t,i,n){t=t||5;var a=this._extent,o=a[1]-a[0];if(!!isFinite(o)){o<0&&(o=-o,a.reverse());var s=In(a,t,i,n);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var n=i[0];t.fixMax||(i[1]+=n/2),i[0]-=n/2}else i[1]=1;var a=i[1]-i[0];isFinite(a)||(i[0]=0,i[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(i[0]=tt(Math.floor(i[0]/o)*o)),t.fixMax||(i[1]=tt(Math.ceil(i[1]/o)*o))},e.type="interval",e}(Y);Y.registerClass(Kr);const Yt=Kr;var Pn=function(r,e,t,i){for(;t<i;){var n=t+i>>>1;r[n][1]<e?t=n+1:i=n}return t},qr=function(r){I(e,r);function e(t){var i=r.call(this,t)||this;return i.type="time",i}return e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return Sr(t.value,Ce[Mi(xt(this._minLevelUnit))]||Ce.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,n){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return Li(t,i,n,o,a)},e.prototype.getTicks=function(t){var i=this._interval,n=this._extent,a=[];if(!i)return a;a.push({value:n[0],level:0});var o=this.getSetting("useUTC"),s=Nn(this._minLevelUnit,this._approxInterval,o,n);return a=a.concat(s),a.push({value:n[1],level:0}),a},e.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=H,i[1]+=H),i[1]===-1/0&&i[0]===1/0){var n=new Date;i[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),i[0]=i[1]-H}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,i,n){t=t||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/t,i!=null&&this._approxInterval<i&&(this._approxInterval=i),n!=null&&this._approxInterval>n&&(this._approxInterval=n);var s=Lt.length,l=Math.min(Pn(Lt,this._approxInterval,0,s),s-1);this._interval=Lt[l][1],this._minLevelUnit=Lt[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return typeof t=="number"?t:+te(t)},e.prototype.contain=function(t){return Vt(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Wt(this.parse(t),this._extent)},e.prototype.scale=function(t){return $t(t,this._extent)},e.type="time",e}(Yt),Lt=[["second",Cr],["minute",Tr],["hour",Bt],["quarter-day",Bt*6],["half-day",Bt*12],["day",H*1.2],["half-week",H*3.5],["week",H*7],["month",H*31],["quarter",H*95],["half-year",Te/2],["year",Te]];function Dn(r,e,t,i){var n=te(e),a=te(t),o=function(d){return Ae(n,d,i)===Ae(a,d,i)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},h=function(){return c()&&o("minute")},f=function(){return h()&&o("second")},v=function(){return f()&&o("millisecond")};switch(r){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return v()}}function On(r,e){return r/=H,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function Bn(r){var e=30*H;return r/=e,r>6?6:r>3?3:r>2?2:1}function En(r){return r/=Bt,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function ze(r,e){return r/=e?Tr:Cr,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function Rn(r){return wr(r,!0)}function zn(r,e,t){var i=new Date(r);switch(xt(e)){case"year":case"month":i[Pr(t)](0);case"day":i[kr(t)](1);case"hour":i[Ir(t)](0);case"minute":i[Lr(t)](0);case"second":i[Ar(t)](0),i[Mr(t)](0)}return i.getTime()}function Nn(r,e,t,i){var n=1e4,a=Pi,o=0;function s(M,A,k,N,dt,F,pt){for(var ot=new Date(A),P=A,G=ot[N]();P<k&&P<=i[1];)pt.push({value:P}),G+=M,ot[dt](G),P=ot.getTime();pt.push({value:P,notAdd:!0})}function l(M,A,k){var N=[],dt=!A.length;if(!Dn(xt(M),i[0],i[1],t)){dt&&(A=[{value:zn(new Date(i[0]),M,t)},{value:i[1]}]);for(var F=0;F<A.length-1;F++){var pt=A[F].value,ot=A[F+1].value;if(pt!==ot){var P=void 0,G=void 0,X=void 0,Se=!1;switch(M){case"year":P=Math.max(1,Math.round(e/H/365)),G=Ni(t),X=Gi(t);break;case"half-year":case"quarter":case"month":P=Bn(e),G=zi(t),X=Pr(t);break;case"week":case"half-week":case"day":P=On(e),G=Ri(t),X=kr(t),Se=!0;break;case"half-day":case"quarter-day":case"hour":P=En(e),G=Ei(t),X=Ir(t);break;case"minute":P=ze(e,!0),G=Bi(t),X=Lr(t);break;case"second":P=ze(e,!1),G=Oi(t),X=Ar(t);break;case"millisecond":P=Rn(e),G=Di(t),X=Mr(t);break}s(P,pt,ot,G,X,Se,N),M==="year"&&k.length>1&&F===0&&k.unshift({value:k[0].value-P})}}for(var F=0;F<N.length;F++)k.push(N[F]);return N}}for(var u=[],c=[],h=0,f=0,v=0;v<a.length&&o++<n;++v){var d=xt(a[v]);if(!!Ii(a[v])){l(a[v],u[u.length-1]||[],c);var p=a[v+1]?xt(a[v+1]):null;if(d!==p){if(c.length){f=h,c.sort(function(M,A){return M.value-A.value});for(var y=[],g=0;g<c.length;++g){var m=c[g].value;(g===0||c[g-1].value!==m)&&(y.push(c[g]),m>=i[0]&&m<=i[1]&&h++)}var x=(i[1]-i[0])/e;if(h>x*1.5&&f>x/1.5||(u.push(y),h>x||r===a[v]))break}c=[]}}}o>=n&&ki("Exceed safe limit.");for(var b=ee(E(u,function(M){return ee(M,function(A){return A.value>=i[0]&&A.value<=i[1]&&!A.notAdd})}),function(M){return M.length>0}),w=[],S=b.length-1,v=0;v<b.length;++v)for(var C=b[v],T=0;T<C.length;++T)w.push({value:C[T].value,level:S-v});w.sort(function(M,A){return M.value-A.value});for(var L=[],v=0;v<w.length;++v)(v===0||w[v].value!==w[v-1].value)&&L.push(w[v]);return L}Y.registerClass(qr);const Gn=qr;var Ne=Y.prototype,mt=Yt.prototype,Hn=j,Fn=Math.floor,Vn=Math.ceil,It=Math.pow,R=Math.log,ye=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Yt,t._interval=0,t}return e.prototype.getTicks=function(t){var i=this._originalScale,n=this._extent,a=i.getExtent(),o=mt.getTicks.call(this,t);return E(o,function(s){var l=s.value,u=j(It(this.base,l));return u=l===n[0]&&this._fixMin?kt(u,a[0]):u,u=l===n[1]&&this._fixMax?kt(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,i){var n=this.base;t=R(t)/R(n),i=R(i)/R(n),mt.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=Ne.getExtent.call(this);i[0]=It(t,i[0]),i[1]=It(t,i[1]);var n=this._originalScale,a=n.getExtent();return this._fixMin&&(i[0]=kt(i[0],a[0])),this._fixMax&&(i[1]=kt(i[1],a[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=R(t[0])/R(i),t[1]=R(t[1])/R(i),Ne.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.niceTicks=function(t){t=t||10;var i=this._extent,n=i[1]-i[0];if(!(n===1/0||n<=0)){var a=Hi(n),o=t/n*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[j(Vn(i[0]/a)*a),j(Fn(i[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.niceExtent=function(t){mt.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=R(t)/R(this.base),Vt(t,this._extent)},e.prototype.normalize=function(t){return t=R(t)/R(this.base),Wt(t,this._extent)},e.prototype.scale=function(t){return t=$t(t,this._extent),It(this.base,t)},e.type="log",e}(Y),jr=ye.prototype;jr.getMinorTicks=mt.getMinorTicks;jr.getLabel=mt.getLabel;function kt(r,e){return Hn(r,de(e))}Y.registerClass(ye);const Wn=ye;var $n=function(){function r(e,t,i){this._prepareParams(e,t,i)}return r.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal=e.type==="ordinal";this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);nt(a)?this._modelMinNum=Pt(e,a({min:i[0],max:i[1]})):a!=="dataMin"&&(this._modelMinNum=Pt(e,a));var o=this._modelMaxRaw=t.get("max",!0);if(nt(o)?this._modelMaxNum=Pt(e,o({min:i[0],max:i[1]})):o!=="dataMax"&&(this._modelMaxNum=Pt(e,o)),n)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=D(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[Me(l[0],1),Me(l[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,n=this._axisDataLen,a=this._boundaryGapInner,o=e?null:i-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?n?0:NaN:t-a[0]*o),l==null&&(l=e?n?n-1:NaN:i+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN),s>l&&(s=NaN,l=NaN);var h=re(s)||re(l)||e&&!n;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var f=this._determinedMin,v=this._determinedMax;return f!=null&&(s=f,u=!0),v!=null&&(l=v,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:h}},r.prototype.modifyDataMinMax=function(e,t){Le(!this.frozen),this[Xn[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var i=Yn[e];Le(!this.frozen&&this[i]==null),this[i]=t},r.prototype.freeze=function(){this.frozen=!0},r}(),Yn={min:"_determinedMin",max:"_determinedMax"},Xn={min:"_dataMin",max:"_dataMax"};function Zn(r,e,t){var i=r.rawExtentInfo;return i||(i=new $n(r,e,t),r.rawExtentInfo=i,i)}function Pt(r,e){return e==null?null:re(e)?NaN:r.parse(e)}function Un(r,e){var t=r.type,i=Zn(r,e,r.getExtent()).calculate();r.setBlank(i.isBlank);var n=i.min,a=i.max,o=e.ecModel;if(o&&t==="time"){var s=Wi("bar",o),l=!1;if(_(s,function(h){l=l||h.getBaseAxis()===e.axis}),l){var u=$i(s),c=Kn(n,a,e,u);n=c.min,a=c.max}}return{extent:[n,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function Kn(r,e,t,i){var n=t.axis.getExtent(),a=n[1]-n[0],o=Yi(i,t.axis);if(o===void 0)return{min:r,max:e};var s=1/0;_(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;_(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-r,h=1-(s+l)/a,f=c/h-c;return e+=f*(l/u),r-=f*(s/u),{min:r,max:e}}function Ge(r,e){var t=Un(r,e),i=t.extent,n=e.get("splitNumber");r instanceof Wn&&(r.base=e.get("logBase"));var a=r.type;r.setExtent(i[0],i[1]),r.niceExtent({splitNumber:n,fixMin:t.fixMin,fixMax:t.fixMax,minInterval:a==="interval"||a==="time"?e.get("minInterval"):null,maxInterval:a==="interval"||a==="time"?e.get("maxInterval"):null});var o=e.get("interval");o!=null&&r.setInterval&&r.setInterval(o)}function qn(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new Ur({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new Gn({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Y.getClass(e)||Yt)}}function jn(r){var e=r.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}function Mt(r){var e=r.getLabelModel().get("formatter"),t=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(i){return function(n,a){return r.scale.getFormattedLabel(n,a,i)}}(e):typeof e=="string"?function(i){return function(n){var a=r.scale.getLabel(n),o=i.replace("{value}",a!=null?a:"");return o}}(e):typeof e=="function"?function(i){return function(n,a){return t!=null&&(a=n.value-t),i(xe(r,n),a,n.level!=null?{level:n.level}:null)}}(e):function(i){return r.scale.getLabel(i)}}function xe(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function Jn(r){var e=r.model,t=r.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var i,n,a=t.getExtent();t instanceof Ur?n=t.count():(i=t.getTicks(),n=i.length);var o=r.getLabelModel(),s=Mt(r),l,u=1;n>40&&(u=Math.ceil(n/40));for(var c=0;c<n;c+=u){var h=i?i[c]:{value:a[0]+c},f=s(h,c),v=o.getTextRect(f),d=Qn(v,o.get("rotate")||0);l?l.union(d):l=d}return l}}function Qn(r,e){var t=e*Math.PI/180,i=r.width,n=r.height,a=i*Math.abs(Math.cos(t))+Math.abs(n*Math.sin(t)),o=i*Math.abs(Math.sin(t))+Math.abs(n*Math.cos(t)),s=new Dr(r.x,r.y,a,o);return s}function me(r){var e=r.get("interval");return e==null?"auto":e}function Jr(r){return r.type==="category"&&me(r.getLabelModel())===0}function Qr(r,e){var t={};return _(r.mapDimensionsAll(e),function(i){t[Fi(r,i)]=!0}),Vi(t)}function as(r,e,t){e&&_(Qr(e,t),function(i){var n=e.getApproximateExtent(i);n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])})}var ta=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),wt=Ct();function ea(r){return r.type==="category"?ia(r):aa(r)}function ra(r,e){return r.type==="category"?na(r,e):{ticks:E(r.scale.getTicks(),function(t){return t.value})}}function ia(r){var e=r.getLabelModel(),t=ti(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function ti(r,e){var t=ei(r,"labels"),i=me(e),n=ri(t,i);if(n)return n;var a,o;return nt(i)?a=ai(r,i):(o=i==="auto"?oa(r):i,a=ni(r,o)),ii(t,i,{labels:a,labelCategoryInterval:o})}function na(r,e){var t=ei(r,"ticks"),i=me(e),n=ri(t,i);if(n)return n;var a,o;if((!e.get("show")||r.scale.isBlank())&&(a=[]),nt(i))a=ai(r,i,!0);else if(i==="auto"){var s=ti(r,r.getLabelModel());o=s.labelCategoryInterval,a=E(s.labels,function(l){return l.tickValue})}else o=i,a=ni(r,o,!0);return ii(t,i,{ticks:a,tickCategoryInterval:o})}function aa(r){var e=r.scale.getTicks(),t=Mt(r);return{labels:E(e,function(i,n){return{formattedLabel:t(i,n),rawLabel:r.scale.getLabel(i),tickValue:i.value}})}}function ei(r,e){return wt(r)[e]||(wt(r)[e]=[])}function ri(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function ii(r,e,t){return r.push({key:e,value:t}),t}function oa(r){var e=wt(r).autoInterval;return e!=null?e:wt(r).autoInterval=r.calculateCategoryInterval()}function sa(r){var e=la(r),t=Mt(r),i=(e.axisRotate-e.labelRotate)/180*Math.PI,n=r.scale,a=n.getExtent(),o=n.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=r.dataToCoord(l+1)-r.dataToCoord(l),c=Math.abs(u*Math.cos(i)),h=Math.abs(u*Math.sin(i)),f=0,v=0;l<=a[1];l+=s){var d=0,p=0,y=Or(t({value:l}),e.font,"center","top");d=y.width*1.3,p=y.height*1.3,f=Math.max(f,d,7),v=Math.max(v,p,7)}var g=f/c,m=v/h;isNaN(g)&&(g=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(g,m))),b=wt(r.model),w=r.getExtent(),S=b.lastAutoInterval,C=b.lastTickCount;return S!=null&&C!=null&&Math.abs(S-x)<=1&&Math.abs(C-o)<=1&&S>x&&b.axisExtent0===w[0]&&b.axisExtent1===w[1]?x=S:(b.lastTickCount=o,b.lastAutoInterval=x,b.axisExtent0=w[0],b.axisExtent1=w[1]),x}function la(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function ni(r,e,t){var i=Mt(r),n=r.scale,a=n.getExtent(),o=r.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=n.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=Jr(r),f=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;f&&u!==a[0]&&p(a[0]);for(var d=u;d<=a[1];d+=l)p(d);v&&d-l!==a[1]&&p(a[1]);function p(y){var g={value:y};s.push(t?y:{formattedLabel:i(g),rawLabel:n.getLabel(g),tickValue:y})}return s}function ai(r,e,t){var i=r.scale,n=Mt(r),a=[];return _(i.getTicks(),function(o){var s=i.getLabel(o),l=o.value;e(o.value,s)&&a.push(t?l:{formattedLabel:n(o),rawLabel:s,tickValue:l})}),a}var He=[0,1],ua=function(){function r(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return r.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=i&&e<=n},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return Xi(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},r.prototype.dataToCoord=function(e,t){var i=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&n.type==="ordinal"&&(i=i.slice(),Fe(i,n.count())),Ie(e,He,i,t)},r.prototype.coordToData=function(e,t){var i=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(i=i.slice(),Fe(i,n.count()));var a=Ie(e,i,He,t);return this.scale.scale(a)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),i=ra(this,t),n=i.ticks,a=E(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return ca(this,a,o,e.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var i=this.scale.getMinorTicks(t),n=E(i,function(a){return E(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},r.prototype.getViewLabels=function(){return ea(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/i},r.prototype.calculateCategoryInterval=function(){return sa(this)},r}();function Fe(r,e){var t=r[1]-r[0],i=e,n=t/i/2;r[0]+=n,r[1]-=n}function ca(r,e,t,i){var n=e.length;if(!r.onBand||t||!n)return;var a=r.getExtent(),o,s;if(n===1)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var l=e[n-1].tickValue-e[0].tickValue,u=(e[n-1].coord-e[0].coord)/l;_(e,function(v){v.coord-=u/2});var c=r.scale.getExtent();s=1+c[1]-e[n-1].tickValue,o={coord:e[n-1].coord+u*s},e.push(o)}var h=a[0]>a[1];f(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift()),i&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],o.coord)&&(i?o.coord=a[1]:e.pop()),i&&f(o.coord,a[1])&&e.push({coord:a[1]});function f(v,d){return v=j(v),d=j(d),h?v>d:v<d}}const ha=ua;var fa=function(r){I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Tt);const va=fa;var ne=function(r){I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Rt).models[0]},e.type="cartesian2dAxis",e}(Tt);Zi(ne,ta);var oi={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},da=K({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},oi),be=K({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},oi),pa=K({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},be),ga=W({scale:!0,logBase:10},be);const ya={category:da,value:be,time:pa,log:ga};var xa={value:1,category:1,time:1,log:1};function Ve(r,e,t,i){_(xa,function(n,a){var o=K(K({},ya[a],!0),i,!0),s=function(l){I(u,l);function u(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var f=l.apply(this,c)||this;return f.type=e+"Axis."+a,f}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=Ui(this),v=f?Br(c):{},d=h.getTheme();K(c,d.get(a+"Axis")),K(c,this.getDefaultOption()),c.type=We(c),f&&Er(c,v,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=ie.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=o,u}(t);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(e+"Axis",We)}function We(r){return r.type||(r.data?"category":"value")}var ma=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return E(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),ee(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}();const ba=ma;var ae=["x","y"];function $e(r){return r.type==="interval"||r.type==="time"}var _a=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ae,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!$e(t)||!$e(i))){var n=t.getExtent(),a=i.getExtent(),o=this.dataToPoint([n[0],a[0]]),s=this.dataToPoint([n[1],a[1]]),l=n[1]-n[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,h=(s[1]-o[1])/u,f=o[0]-n[0]*c,v=o[1]-a[0]*h,d=this._transform=[c,0,0,h,f,v];this._invTransform=Ki([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),n=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,i,n){n=n||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return ct(n,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(a,i)),n[1]=l.toGlobalCoord(l.dataToCoord(o,i)),n},e.prototype.clampData=function(t,i){var n=this.getAxis("x").scale,a=this.getAxis("y").scale,o=n.getExtent(),s=a.getExtent(),l=n.parse(t[0]),u=a.parse(t[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i},e.prototype.pointToData=function(t,i){var n=[];if(this._invTransform)return ct(n,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return n[0]=a.coordToData(a.toLocalCoord(t[0]),i),n[1]=o.coordToData(o.toLocalCoord(t[1]),i),n},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),a=Math.min(i[0],i[1]),o=Math.max(t[0],t[1])-n,s=Math.max(i[0],i[1])-a;return new Dr(n,a,o,s)},e}(ba),wa=function(r){I(e,r);function e(t,i,n,a,o){var s=r.call(this,t,i,n)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(ha);const Sa=wa;function oe(r,e,t){t=t||{};var i=r.coordinateSystem,n=e.axis,a={},o=n.getAxesOnZeroOf()[0],s=n.position,l=o?"onZero":s,u=n.dim,c=i.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},v=e.get("offset")||0,d=u==="x"?[h[2]-v,h[3]+v]:[h[0]-v,h[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[f.onZero]=Math.max(Math.min(p,d[1]),d[0])}a.position=[u==="y"?d[f[l]]:h[0],u==="x"?d[f[l]]:h[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[s],a.labelOffset=o?d[f[s]]-d[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),bt(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-g:g,a.z2=1,a}function Ye(r){return r.get("coordinateSystem")==="cartesian2d"}function Xe(r){var e={xAxisModel:null,yAxisModel:null};return _(e,function(t,i){var n=i.replace(/Model$/,""),a=r.getReferringComponents(n,Rt).models[0];if(!a)throw new Error(n+' "'+Rr(r.get(n+"Index"),r.get(n+"Id"),0)+'" not found');e[i]=a}),e}var Ca=function(){function r(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ae,this._initCartesian(e,t,i),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model),_(i.x,function(a){Ge(a.scale,a.model)}),_(i.y,function(a){Ge(a.scale,a.model)});var n={};_(i.x,function(a){Ze(i,"y",a,n)}),_(i.y,function(a){Ze(i,"x",a,n)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,i){var n=e.getBoxLayoutParams(),a=!i&&e.get("containLabel"),o=_t(n,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),a&&(_(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Jn(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,u.position==="top"?o.y+=c.height+f:u.position==="left"&&(o.x+=c.width+f)}}}),l()),_(this._coordsList,function(u){u.calcAffineTransform()});function l(){_(s,function(u){var c=u.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),Ta(u,c?o.x:o.y)})}},r.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(i!=null)return i[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var i="x"+e+"y"+t;return this._coordsMap[i]}J(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===e||a[n].getAxis("y").index===t)return a[n]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},r.prototype.convertFromPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",Rt).models[0],n=e.yAxisModel||t&&t.getReferringComponents("yAxis",Rt).models[0],a=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,lt(o,s)<0&&(s=null);else if(i&&n)s=this.getCartesian(i.componentIndex,n.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(n)l=this.getAxis("y",n.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,i){var n=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,_(s.x,function(c,h){_(s.y,function(f,v){var d="x"+h+"y"+v,p=new _a(d);p.master=n,p.model=e,n._coordsMap[d]=p,n._coordsList.push(p),p.addAxis(c),p.addAxis(f)})});function u(c){return function(h,f){if(!!Zt(h,e)){var v=h.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var d=new Sa(c,qn(h),[0,0],h.get("type"),v),p=d.type==="category";d.onBand=p&&h.get("boundaryGap"),d.inverse=h.get("inverse"),h.axis=d,d.model=h,d.grid=a,d.index=f,a._axesList.push(d),s[c][f]=d,l[c]++}}}},r.prototype._updateScale=function(e,t){_(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var a=n.model.get("categorySortInfo");n.scale.setSortInfo(a)}}),e.eachSeries(function(n){if(Ye(n)){var a=Xe(n),o=a.xAxisModel,s=a.yAxisModel;if(!Zt(o,t)||!Zt(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=n.getData(),c=l.getAxis("x"),h=l.getAxis("y");u.type==="list"&&(i(u,c),i(u,h))}},this);function i(n,a){_(Qr(n,a.dim),function(o){a.scale.unionExtentFromData(n,o)})}},r.prototype.getTooltipAxes=function(e){var t=[],i=[];return _(this.getCartesians(),function(n){var a=e!=null&&e!=="auto"?n.getAxis(e):n.getBaseAxis(),o=n.getOtherAxis(a);lt(t,a)<0&&t.push(a),lt(i,o)<0&&i.push(o)}),{baseAxes:t,otherAxes:i}},r.create=function(e,t){var i=[];return e.eachComponent("grid",function(n,a){var o=new r(n,e,t);o.name="grid_"+a,o.resize(n,t,!0),n.coordinateSystem=o,i.push(o)}),e.eachSeries(function(n){if(!!Ye(n)){var a=Xe(n),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel();{if(!l)throw new Error('Grid "'+Rr(o.get("gridIndex"),o.get("gridId"),0)+'" not found');if(o.getCoordSysModel()!==s.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var u=l.coordinateSystem;n.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),i},r.dimensions=ae,r}();function Zt(r,e){return r.getCoordSysModel()===e}function Ze(r,e,t,i){t.getAxesOnZeroOf=function(){return a?[a]:[]};var n=r[e],a,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Ue(n[l])&&(a=n[l]);else for(var u in n)if(n.hasOwnProperty(u)&&Ue(n[u])&&!i[c(n[u])]){a=n[u];break}a&&(i[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function Ue(r){return r&&r.type!=="category"&&r.type!=="time"&&jn(r)}function Ta(r,e){var t=r.getExtent(),i=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(n){return n+e}:function(n){return i-n+e},r.toLocalCoord=r.dim==="x"?function(n){return n-e}:function(n){return i-n+e}}const Aa=Ca;var q=Math.PI,it=function(){function r(e,t){this.group=new ht,this.opt=t,this.axisModel=e,W(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new ht({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return r.prototype.hasBuilder=function(e){return!!Ke[e]},r.prototype.add=function(e){Ke[e](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(e,t,i){var n=Hr(t-e),a,o;return Nt(n)?(o=i>0?"top":"bottom",a="center"):Nt(n-q)?(o=i>0?"bottom":"top",a="center"):(o="middle",n>0&&n<q?a=i>0?"right":"left":a=i>0?"left":"right"),{rotation:n,textAlign:a,textVerticalAlign:o}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r}(),Ke={axisLine:function(r,e,t,i){var n=e.get(["axisLine","show"]);if(n==="auto"&&r.handleAutoShown&&(n=r.handleAutoShown("axisLine")),!!n){var a=e.axis.getExtent(),o=i.transform,s=[a[0],0],l=[a[1],0];o&&(ct(s,s,o),ct(l,l,o));var u=pe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new zt({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",t.add(c);var h=e.get(["axisLine","symbol"]),f=e.get(["axisLine","symbolSize"]),v=e.get(["axisLine","symbolOffset"])||0;if(typeof v=="number"&&(v=[v,v]),h!=null){typeof h=="string"&&(h=[h,h]),(typeof f=="string"||typeof f=="number")&&(f=[f,f]);var d=f[0],p=f[1];_([{rotate:r.rotation+Math.PI/2,offset:v[0],r:0},{rotate:r.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,g){if(h[g]!=="none"&&h[g]!=null){var m=zr(h[g],-d/2,-p/2,d,p,u.stroke,!0),x=y.r+y.offset;m.attr({rotation:y.rotate,x:s[0]+x*Math.cos(r.rotation),y:s[1]-x*Math.sin(r.rotation),silent:!0,z2:11}),t.add(m)}})}}},axisTickLabel:function(r,e,t,i){var n=Ia(t,i,e,r),a=Pa(t,i,e,r);La(e,a,n),ka(t,i,e,r.tickDirection)},axisName:function(r,e,t,i){var n=bt(r.axisName,e.get("name"));if(!!n){var a=e.get("nameLocation"),o=r.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,h=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,je(a)?r.labelOffset+o*l:0],f,v=e.get("nameRotate");v!=null&&(v=v*q/180);var d;je(a)?f=it.innerTextLayout(r.rotation,v!=null?v:r.rotation,o):(f=Ma(r.rotation,a,v||0,u),d=r.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(f.rotation)),!isFinite(d)&&(d=null)));var p=s.getFont(),y=e.get("nameTruncate",!0)||{},g=y.ellipsis,m=bt(r.nameTruncateMaxWidth,y.maxWidth,d),x=new at({x:h[0],y:h[1],rotation:f.rotation,silent:it.isLabelSilent(e),style:Ht(s,{text:n,font:p,overflow:"truncate",width:m,ellipsis:g,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Nr({el:x,componentModel:e,itemName:n}),x.__fullText=n,x.anid="name",e.get("triggerEvent")){var b=it.makeAxisEventDataBase(e);b.targetType="axisName",b.name=n,U(x).eventData=b}i.add(x),x.updateTransform(),t.add(x),x.decomposeTransform()}}};function Ma(r,e,t,i){var n=Hr(t-r),a,o,s=i[0]>i[1],l=e==="start"&&!s||e!=="start"&&s;return Nt(n-q/2)?(o=l?"bottom":"top",a="center"):Nt(n-q*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",n<q*1.5&&n>q/2?a=l?"left":"right":a=l?"right":"left"),{rotation:n,textAlign:a,textVerticalAlign:o}}function La(r,e,t){if(!Jr(r.axis)){var i=r.get(["axisLabel","showMinLabel"]),n=r.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],h=t[t.length-1],f=t[t.length-2];i===!1?(z(a),z(u)):qe(a,o)&&(i?(z(o),z(c)):(z(a),z(u))),n===!1?(z(s),z(h)):qe(l,s)&&(n?(z(l),z(f)):(z(s),z(h)))}}function z(r){r&&(r.ignore=!0)}function qe(r,e){var t=r&&r.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(!(!t||!i)){var n=qi([]);return Gr(n,n,-r.rotation),t.applyTransform(ke([],n,r.getLocalTransform())),i.applyTransform(ke([],n,e.getLocalTransform())),t.intersect(i)}}function je(r){return r==="middle"||r==="center"}function si(r,e,t,i,n){for(var a=[],o=[],s=[],l=0;l<r.length;l++){var u=r[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(ct(o,o,e),ct(s,s,e));var c=new zt({subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});c.anid=n+"_"+r[l].tickValue,a.push(c)}return a}function Ia(r,e,t,i){var n=t.axis,a=t.getModel("axisTick"),o=a.get("show");if(o==="auto"&&i.handleAutoShown&&(o=i.handleAutoShown("axisTick")),!(!o||n.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=i.tickDirection*a.get("length"),u=n.getTicksCoords(),c=si(u,e.transform,l,W(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)r.add(c[h]);return c}}function ka(r,e,t,i){var n=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||n.scale.isBlank())){var o=n.getMinorTicksCoords();if(!!o.length)for(var s=a.getModel("lineStyle"),l=i*a.get("length"),u=W(s.getLineStyle(),W(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=si(o[c],e.transform,l,u,"minorticks_"+c),f=0;f<h.length;f++)r.add(h[f])}}function Pa(r,e,t,i){var n=t.axis,a=bt(i.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||n.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=n.getViewLabels(),u=(bt(i.labelRotate,o.get("rotate"))||0)*q/180,c=it.innerTextLayout(i.rotation,u,i.labelDirection),h=t.getCategories&&t.getCategories(!0),f=[],v=it.isLabelSilent(t),d=t.get("triggerEvent");return _(l,function(p,y){var g=n.scale.type==="ordinal"?n.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,m=p.formattedLabel,x=p.rawLabel,b=o;if(h&&h[g]){var w=h[g];J(w)&&w.textStyle&&(b=new rt(w.textStyle,o,t.ecModel))}var S=b.getTextColor()||t.get(["axisLine","lineStyle","color"]),C=n.dataToCoord(g),T=new at({x:C,y:i.labelOffset+i.labelDirection*s,rotation:c.rotation,silent:v,z2:10,style:Ht(b,{text:m,align:b.getShallow("align",!0)||c.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||c.textVerticalAlign,fill:typeof S=="function"?S(n.type==="category"?x:n.type==="value"?g+"":g,y):S})});if(T.anid="label_"+g,d){var L=it.makeAxisEventDataBase(t);L.targetType="axisLabel",L.value=x,U(T).eventData=L}e.add(T),T.updateTransform(),f.push(T),r.add(T),T.decomposeTransform()}),f}}const li=it;function Da(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Oa(t,r,e),t.seriesInvolved&&Ea(t,r),t}function Oa(r,e,t){var i=e.getComponent("tooltip"),n=e.getComponent("axisPointer"),a=n.get("link",!0)||[],o=[];_(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=St(s.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=s;var c=s.model,h=c.getModel("tooltip",i);if(_(s.getAxes(),O(p,!1,null)),s.getTooltipAxes&&i&&h.get("show")){var f=h.get("trigger")==="axis",v=h.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||v)&&_(d.baseAxes,O(p,v?"cross":!0,f)),v&&_(d.otherAxes,O(p,"cross",!1))}function p(y,g,m){var x=m.model.getModel("axisPointer",n),b=x.get("show");if(!(!b||b==="auto"&&!y&&!se(x))){g==null&&(g=x.get("triggerTooltip")),x=y?Ba(m,h,n,e,y,g):x;var w=x.get("snap"),S=St(m.model),C=g||w||m.type==="category",T=r.axesInfo[S]={key:S,axis:m,coordSys:s,axisPointerModel:x,triggerTooltip:g,involveSeries:C,snap:w,useHandle:se(x),seriesModels:[],linkGroup:null};u[S]=T,r.seriesInvolved=r.seriesInvolved||C;var L=Ra(a,m);if(L!=null){var M=o[L]||(o[L]={axesInfo:{}});M.axesInfo[S]=T,M.mapper=a[L].mapper,T.linkGroup=M}}}})}function Ba(r,e,t,i,n,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};_(s,function(f){l[f]=Ft(o.get(f))}),l.snap=r.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),n==="cross"){var c=o.get(["label","show"]);if(u.show=c!=null?c:!0,!a){var h=l.lineStyle=o.get("crossStyle");h&&W(u,h.textStyle)}}return r.model.getModel("axisPointer",new rt(l,t,i))}function Ea(r,e){e.eachSeries(function(t){var i=t.coordinateSystem,n=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!i||n==="none"||n===!1||n==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||_(r.coordSysAxesInfo[St(i.model)],function(o){var s=o.axis;i.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Ra(r,e){for(var t=e.model,i=e.dim,n=0;n<r.length;n++){var a=r[n]||{};if(Ut(a[i+"AxisId"],t.id)||Ut(a[i+"AxisIndex"],t.componentIndex)||Ut(a[i+"AxisName"],t.name))return n}}function Ut(r,e){return r==="all"||D(r)&&lt(r,e)>=0||r===e}function za(r){var e=_e(r);if(!!e){var t=e.axisPointerModel,i=e.axis.scale,n=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=i.parse(o));var s=se(t);a==null&&(n.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),n.value=o,s&&(n.status=e.axis.scale.isBlank()?"hide":"show")}}function _e(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[St(r)]}function Na(r){var e=_e(r);return e&&e.axisPointerModel}function se(r){return!!r.get(["handle","show"])}function St(r){return r.type+"||"+r.id}var Kt={},Ga=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,n,a){this.axisPointerClass&&za(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,n,!0)},e.prototype.updateAxisPointer=function(t,i,n,a){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,i){var n=this._axisPointer;n&&n.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var a=e.getAxisPointerClass(this.axisPointerClass);if(!!a){var o=Na(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){if(Kt[t])throw new Error("axisPointer "+t+" exists");Kt[t]=i},e.getAxisPointerClass=function(t){return t&&Kt[t]},e.type="axis",e}(At);const ui=Ga;var le=Ct();function Ha(r,e,t,i){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=i.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:a,clamp:!0});if(!!u.length){var c=s.length,h=le(r).splitAreaColors,f=ve(),v=0;if(h)for(var d=0;d<u.length;d++){var p=h.get(u[d].tickValue);if(p!=null){v=(p+(c-1)*d)%c;break}}var y=n.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=D(s)?s:[s];for(var d=1;d<u.length;d++){var m=n.toGlobalCoord(u[d].coord),x=void 0,b=void 0,w=void 0,S=void 0;n.isHorizontal()?(x=y,b=l.y,w=m-x,S=l.height,y=x+w):(x=l.x,b=y,w=l.width,S=m-b,y=b+S);var C=u[d-1].tickValue;C!=null&&f.set(C,v),e.add(new vt({anid:C!=null?"area_"+C:null,shape:{x,y:b,width:w,height:S},style:W({fill:s[v]},g),autoBatch:!0,silent:!0})),v=(v+1)%c}le(r).splitAreaColors=f}}}function Fa(r){le(r).splitAreaColors=null}var Va=["axisLine","axisTickLabel","axisName"],Wa=["splitArea","splitLine","minorSplitLine"],ci=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,i,n,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ht,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=oe(s,t),u=new li(t,pe({handleAutoShown:function(c){for(var h=s.coordinateSystem.getCartesians(),f=0;f<h.length;f++){var v=h[f].getOtherAxis(t.axis).type;if(v==="value"||v==="log")return!0}return!1}},l));_(Va,u.add,u),this._axisGroup.add(u.getGroup()),_(Wa,function(c){t.get([c,"show"])&&$a[c](this,this._axisGroup,t,s)},this),ji(o,this._axisGroup,t),r.prototype.render.call(this,t,i,n,a)}},e.prototype.remove=function(){Fa(this)},e.type="cartesianAxis",e}(ui),$a={splitLine:function(r,e,t,i){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=D(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=n.isHorizontal(),c=0,h=n.getTicksCoords({tickModel:a}),f=[],v=[],d=o.getLineStyle(),p=0;p<h.length;p++){var y=n.toGlobalCoord(h[p].coord);u?(f[0]=y,f[1]=l.y,v[0]=y,v[1]=l.y+l.height):(f[0]=l.x,f[1]=y,v[0]=l.x+l.width,v[1]=y);var g=c++%s.length,m=h[p].tickValue;e.add(new zt({anid:m!=null?"line_"+h[p].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:W({stroke:s[g]},d),silent:!0}))}}},minorSplitLine:function(r,e,t,i){var n=t.axis,a=t.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=n.isHorizontal(),u=n.getMinorTicksCoords();if(!!u.length)for(var c=[],h=[],f=o.getLineStyle(),v=0;v<u.length;v++)for(var d=0;d<u[v].length;d++){var p=n.toGlobalCoord(u[v][d].coord);l?(c[0]=p,c[1]=s.y,h[0]=p,h[1]=s.y+s.height):(c[0]=s.x,c[1]=p,h[0]=s.x+s.width,h[1]=p),e.add(new zt({anid:"minor_line_"+u[v][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0}))}},splitArea:function(r,e,t,i){Ha(r,e,t,i)}},hi=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(ci),Ya=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=hi.type,t}return e.type="yAxis",e}(ci),Xa=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new vt({shape:t.coordinateSystem.getRect(),style:W({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(At),Je={offset:0};function Za(r){r.registerComponentView(Xa),r.registerComponentModel(va),r.registerCoordinateSystem("cartesian2d",Aa),Ve(r,"x",ne,Je),Ve(r,"y",ne,Je),r.registerComponentView(hi),r.registerComponentView(Ya),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var et=Ct(),Qe=Ft,qt=Q,Ua=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,i,n){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,!(!n&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new ht,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),i.getZr().add(s);else{var f=O(tr,t,h);this.updatePointerEl(s,u,f),this.updateLabelEl(s,u,f,t)}rr(s,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var i=t.get("animation"),n=e.axis,a=n.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(i==="auto"||i==null){var s=this.animationThreshold;if(a&&n.getBandWidth()>s)return!0;if(o){var l=_e(e).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return i===!0},r.prototype.makeElOption=function(e,t,i,n,a){},r.prototype.createPointerEl=function(e,t,i,n){var a=t.pointer;if(a){var o=et(e).pointerEl=new Ji[a.type](Qe(t.pointer));e.add(o)}},r.prototype.createLabelEl=function(e,t,i,n){if(t.label){var a=et(e).labelEl=new at(Qe(t.label));e.add(a),er(a,n)}},r.prototype.updatePointerEl=function(e,t,i){var n=et(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,i,n){var a=et(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{x:t.label.x,y:t.label.y}),er(a,n))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,i=this._api.getZr(),n=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){n&&i.remove(n),this._handle=null;return}var s;this._handle||(s=!0,n=this._handle=Fr(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Qi(u.event)},onmousedown:qt(this._onHandleDragMove,this,0,0),drift:qt(this._onHandleDragMove,this),ondragend:qt(this._onHandleDragEnd,this)}),i.add(n)),rr(n,t,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");D(l)||(l=[l,l]),n.scaleX=l[0]/2,n.scaleY=l[1]/2,tn(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},r.prototype._moveHandleToValue=function(e,t){tr(this._axisPointerModel,!t&&this._moveAnimation,this._handle,jt(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(!!i){this._dragging=!0;var n=this.updateHandleTransform(jt(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(jt(n)),et(i).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(!!e){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(!!e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}},r}();function tr(r,e,t,i){fi(et(t).lastProp,i)||(et(t).lastProp=i,e?Vr(t,i,r):(t.stopAnimation(),t.attr(i)))}function fi(r,e){if(J(r)&&J(e)){var t=!0;return _(e,function(i,n){t=t&&fi(r[n],i)}),!!t}else return r===e}function er(r,e){r[e.get(["label","show"])?"show":"hide"]()}function jt(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function rr(r,e,t){var i=e.get("z"),n=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(i!=null&&(a.z=i),n!=null&&(a.zlevel=n),a.silent=t)})}const Ka=Ua;function qa(r){var e=r.get("type"),t=r.getModel(e+"Style"),i;return e==="line"?(i=t.getLineStyle(),i.fill=null):e==="shadow"&&(i=t.getAreaStyle(),i.stroke=null),i}function ja(r,e,t,i,n){var a=t.get("value"),o=vi(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=ge(s.get("padding")||0),u=s.getFont(),c=Or(o,u),h=n.position,f=c.width+l[1]+l[3],v=c.height+l[0]+l[2],d=n.align;d==="right"&&(h[0]-=f),d==="center"&&(h[0]-=f/2);var p=n.verticalAlign;p==="bottom"&&(h[1]-=v),p==="middle"&&(h[1]-=v/2),Ja(h,f,v,i);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),r.label={x:h[0],y:h[1],style:Ht(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function Ja(r,e,t,i){var n=i.getWidth(),a=i.getHeight();r[0]=Math.min(r[0]+e,n)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function vi(r,e,t,i,n){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:n.precision}),o=n.formatter;if(o){var s={value:xe(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};_(i,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&s.seriesData.push(h)}),V(o)?a=o.replace("{value}",a):nt(o)&&(a=o(s))}return a}function di(r,e,t){var i=nn();return Gr(i,i,t.rotation),en(i,i,t.position),rn([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function Qa(r,e,t,i,n,a){var o=li.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=n.get(["label","margin"]),ja(e,i,n,a,{position:di(i.axis,r,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function to(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function eo(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}var ro=function(r){I(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,n,a,o){var s=n.axis,l=s.grid,u=a.get("type"),c=ir(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(i,!0));if(u&&u!=="none"){var f=qa(a),v=io[u](s,h,c);v.style=f,t.graphicKey=v.type,t.pointer=v}var d=oe(l.model,n);Qa(i,t,d,n,a,o)},e.prototype.getHandleTransform=function(t,i,n){var a=oe(i.axis.grid.model,i,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var o=di(i.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,n,a){var o=n.axis,s=o.grid,l=o.getGlobalExtent(!0),u=ir(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,h=[t.x,t.y];h[c]+=i[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,v=[f,f];v[c]=h[c];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:v,tooltipOption:d[c]}},e}(Ka);function ir(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var io={line:function(r,e,t){var i=to([e,t[0]],[e,t[1]],nr(r));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(r,e,t){var i=Math.max(1,r.getBandWidth()),n=t[1]-t[0];return{type:"Rect",shape:eo([e-i/2,t[0]],[i,n],nr(r))}}};function nr(r){return r.dim==="x"?0:1}const no=ro;var ao=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Tt);const oo=ao;var $=Ct(),so=_;function pi(r,e,t){if(!B.node){var i=e.getZr();$(i).records||($(i).records={}),lo(i,e);var n=$(i).records[r]||($(i).records[r]={});n.handler=t}}function lo(r,e){if($(r).initialized)return;$(r).initialized=!0,t("click",O(ar,"click")),t("mousemove",O(ar,"mousemove")),t("globalout",co);function t(i,n){r.on(i,function(a){var o=ho(e);so($(r).records,function(s){s&&n(s,a,o.dispatchAction)}),uo(o.pendings,e)})}}function uo(r,e){var t=r.showTip.length,i=r.hideTip.length,n;t?n=r.showTip[t-1]:i&&(n=r.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function co(r,e,t){r.handler("leave",null,t)}function ar(r,e,t,i){e.handler(r,t,i)}function ho(r){var e={showTip:[],hideTip:[]},t=function(i){var n=e[i.type];n?n.push(i):(i.dispatchAction=t,r.dispatchAction(i))};return{dispatchAction:t,pendings:e}}function ue(r,e){if(!B.node){var t=e.getZr(),i=($(t).records||{})[r];i&&($(t).records[r]=null)}}var fo=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,n){var a=i.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";pi("axisPointer",n,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,i){ue("axisPointer",i)},e.prototype.dispose=function(t,i){ue("axisPointer",i)},e.type="axisPointer",e}(At);const vo=fo;function gi(r,e){var t=[],i=r.seriesIndex,n;if(i==null||!(n=e.getSeriesByIndex(i)))return{point:[]};var a=n.getData(),o=an(a,r);if(o==null||o<0||D(o))return{point:[]};var s=a.getItemGraphicEl(o),l=n.coordinateSystem;if(n.getTooltipPosition)t=n.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,f=u.dim,v=h==="x"||h==="radius"?1:0,d=a.mapDimension(f),p=[];p[v]=a.get(d,o),p[1-v]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(a.getValues(E(l.dimensions,function(g){return a.mapDimension(g)}),o))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:s}}var or=Ct();function po(r,e,t){var i=r.currTrigger,n=[r.x,r.y],a=r,o=r.dispatchAction||Q(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(!!s){Et(n)&&(n=gi({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Et(n),u=a.axesInfo,c=s.axesInfo,h=i==="leave"||Et(n),f={},v={},d={list:[],map:{}},p={showPointer:O(yo,v),showTooltip:O(xo,d)};_(s.coordSysMap,function(g,m){var x=l||g.containPoint(n);_(s.coordSysAxesInfo[m],function(b,w){var S=b.axis,C=wo(u,b);if(!h&&x&&(!u||C)){var T=C&&C.value;T==null&&!l&&(T=S.pointToData(n)),T!=null&&sr(b,T,p,!1,f)}})});var y={};return _(c,function(g,m){var x=g.linkGroup;x&&!v[m]&&_(x.axesInfo,function(b,w){var S=v[w];if(b!==g&&S){var C=S.value;x.mapper&&(C=g.axis.scale.parse(x.mapper(C,lr(b),lr(g)))),y[g.key]=C}})}),_(y,function(g,m){sr(c[m],g,p,!0,f)}),mo(v,c,f),bo(d,n,r,o),_o(c,o,t),f}}function sr(r,e,t,i,n){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var o=go(e,r),s=o.payloadBatch,l=o.snapToValue;s[0]&&n.seriesIndex==null&&pe(n,s[0]),!i&&r.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,s),t.showTooltip(r,o,l)}}function go(r,e){var t=e.axis,i=t.dim,n=r,a=[],o=Number.MAX_VALUE,s=-1;return _(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(i),h,f;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(c,r,t);f=v.dataIndices,h=v.nestestValue}else{if(f=l.getData().indicesOfNearest(c[0],r,t.type==="category"?.5:null),!f.length)return;h=l.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var d=r-h,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,n=h,a.length=0),_(f,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:n}}function yo(r,e,t,i){r[e.key]={value:t,payloadBatch:i}}function xo(r,e,t,i){var n=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!n.length)){var l=e.coordSys.model,u=St(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function mo(r,e,t){var i=t.axesInfo=[];_(e,function(n,a){var o=n.axisPointerModel.option,s=r[a];s?(!n.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!n.useHandle&&(o.status="hide"),o.status==="show"&&i.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function bo(r,e,t,i){if(Et(e)||!r.list.length){i({type:"hideTip"});return}var n=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:r.list})}function _o(r,e,t){var i=t.getZr(),n="axisPointerLastHighlights",a=or(i)[n]||{},o=or(i)[n]={};_(r,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&_(h.seriesDataIndices,function(f){var v=f.seriesIndex+" | "+f.dataIndex;o[v]=f})});var s=[],l=[];_(a,function(u,c){!o[c]&&l.push(u)}),_(o,function(u,c){!a[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function wo(r,e){for(var t=0;t<(r||[]).length;t++){var i=r[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function lr(r){var e=r.axis.model,t={},i=t.axisDim=r.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function Et(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function yi(r){ui.registerAxisPointerClass("CartesianAxisPointer",no),r.registerComponentModel(oo),r.registerComponentView(vo),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!D(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=Da(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},po)}function os(r){ft(Za),ft(yi)}function ss(r,e,t){var i=e.getBoxLayoutParams(),n=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},o=_t(i,a,n);ut(e.get("orient"),r,e.get("itemGap"),o.width,o.height),on(r,i,a,n)}function So(r,e){var t=ge(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),r=new vt({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),r}var Co=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Tt);const To=Co;function xi(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function mi(r){if(!!B.domSupported){for(var e=document.documentElement.style,t=0,i=r.length;t<i;t++)if(r[t]in e)return r[t]}}var bi=mi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ao=mi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function _i(r,e){if(!r)return e;e=Wr(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function ur(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?e?t[e]:t:null}var Mo=_i(Ao,"transition"),we=_i(bi,"transform"),Lo="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(B.transform3dSupported?"will-change:transform;":"");function Io(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function ko(r,e,t){if(!V(t)||t==="inside")return"";e=Gt(e);var i=Io(t),n=i+":-6px;",a=we+":";lt(["left","right"],i)>-1?(n+="top:50%",a+="translateY(-50%) rotate("+(i==="left"?-225:-45)+"deg)"):(n+="left:50%",a+="translateX(-50%) rotate("+(i==="top"?225:45)+"deg)");var o=e+" solid 1px;",s=["position:absolute;width:10px;height:10px;",n+";"+a+";","border-bottom:"+o,"border-right:"+o,"background-color:"+r+";","box-shadow:8px 8px 16px -3px #000;"];return'<div style="'+s.join("")+'"></div>'}function Po(r,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+r/2+"s "+t,n="opacity"+i+",visibility"+i;return e||(i=" "+r+"s "+t,n+=B.transformSupported?","+we+i:",left"+i+",top"+i),Mo+":"+n}function cr(r,e,t){var i=r.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!B.transformSupported)return t?"top:"+n+";left:"+i+";":[["top",n],["left",i]];var a=B.transform3dSupported,o="translate"+(a?"3d":"")+"("+i+","+n+(a?",0":"")+")";return t?"top:0;left:0;"+we+":"+o+";":[["top",0],["left",0],[bi,o]]}function Do(r){var e=[],t=r.get("fontSize"),i=r.getTextColor();i&&e.push("color:"+i),e.push("font:"+r.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var n=r.get("textShadowColor"),a=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,s=r.get("textShadowOffsetY")||0;return n&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+n),_(["decoration","align"],function(l){var u=r.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function Oo(r,e,t){var i=[],n=r.get("transitionDuration"),a=r.get("backgroundColor"),o=r.get("shadowBlur"),s=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),c=r.getModel("textStyle"),h=$r(r,"html"),f=l+"px "+u+"px "+o+"px "+s;return i.push("box-shadow:"+f),e&&n&&i.push(Po(n,t)),a&&(B.canvasSupported?i.push("background-color:"+a):(i.push("background-color:#"+un(a)),i.push("filter:alpha(opacity=70)"))),_(["width","color","radius"],function(v){var d="border-"+v,p=Wr(d),y=r.get(p);y!=null&&i.push(d+":"+y+(v==="color"?"":"px"))}),i.push(Do(c)),h!=null&&i.push("padding:"+ge(h).join("px ")+"px"),i.join(";")+";"}function hr(r,e,t,i,n){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&cn(r,o,document.body,i,n)}else{r[0]=i,r[1]=n;var s=a&&a.getViewportRootOffset();s&&(r[0]+=s.offsetLeft,r[1]+=s.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Bo=function(){function r(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,B.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=t.getZr(),o=this._appendToBody=i&&i.appendToBody;hr(this._styleCoord,a,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(n):e.appendChild(n),this._container=e;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=a.handler,c=a.painter.getViewportRoot();sn(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return r.prototype.update=function(e){var t=this._container,i=ur(t,"position"),n=t.style;n.position!=="absolute"&&i!=="absolute"&&(n.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,a=this._styleCoord;i.innerHTML?n.cssText=Lo+Oo(e,!this._firstShow,this._longHide)+cr(a[0],a[1],!0)+("border-color:"+Gt(t)+";")+(e.get("extraCssText")||"")+(";pointer-event:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,i,n,a){if(e!=null){var o=this.el;if(V(a)&&i.get("trigger")==="item"&&!xi(i)&&(e+=ko(i.get("backgroundColor"),n,a)),V(e))o.innerHTML=e;else if(e){o.innerHTML="",D(e)||(e=[e]);for(var s=0;s<e.length;s++)ln(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s])}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return[e.clientWidth,e.clientHeight]},r.prototype.moveTo=function(e,t){var i=this._styleCoord;if(hr(i,this._zr,this._appendToBody,e,t),i[0]!=null&&i[1]!=null){var n=this.el.style,a=cr(i[0],i[1]);_(a,function(o){n[o[0]]=o[1]})}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",B.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Q(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},r.prototype.getOuterSize=function(){var e=this.el.clientWidth,t=this.el.clientHeight,i=ur(this.el);return i&&(e+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),t+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)),{width:e,height:t}},r}();const Eo=Bo;var Ro=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),vr(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized()},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,i,n,a){J(e)&&hn("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var o=i.getModel("textStyle");this.el=new at({style:{rich:t.richTextStyles,text:e,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:n,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:o.get("textShadowColor"),textShadowBlur:o.get("textShadowBlur")||0,textShadowOffsetX:o.get("textShadowOffsetX")||0,textShadowOffsetY:o.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:$r(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=fr(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},r.prototype.moveTo=function(e,t){var i=this.el;if(i){var n=this._styleCoord;vr(n,this._zr,e,t),e=n[0],t=n[1];var a=i.style,o=Z(a.borderWidth||0),s=fr(a);i.x=e+o+s.left,i.y=t+o+s.top,i.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Q(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.getOuterSize=function(){var e=this.getSize();return{width:e[0],height:e[1]}},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function Z(r){return Math.max(0,r)}function fr(r){var e=Z(r.shadowBlur||0),t=Z(r.shadowOffsetX||0),i=Z(r.shadowOffsetY||0);return{left:Z(e-t),right:Z(e+t),top:Z(e-i),bottom:Z(e+i)}}function vr(r,e,t,i){r[0]=t,r[1]=i,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}const zo=Ro;var dr=Q,gt=_,pr=xn,No=new vt({shape:{x:-1,y:-1,width:2,height:2}}),Go=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){if(!B.node){var n=t.getComponent("tooltip"),a=n.get("renderMode");this._renderMode=fn(a),this._tooltipContent=this._renderMode==="richText"?new zo(i):new Eo(i.getDom(),i,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,i,n){if(!B.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,i=t.get("triggerOn");pi("itemTooltip",this._api,dr(function(n,a,o){i!=="none"&&(i.indexOf(n)>=0?this._tryShow(a,o):n==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,n=this._api;if(this._lastX!=null&&this._lastY!=null&&t.get("triggerOn")!=="none"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&a.manuallyShowTip(t,i,n,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,n,a){if(!(a.from===this.uid||B.node)){var o=gr(a,n);this._ticket="";var s=a.dataByCoordSys,l=Wo(a,i,n);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=No;c.x=a.x,c.y=a.y,c.update(),U(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,n,a))return;var h=gi(a,i),f=h.point[0],v=h.point[1];f!=null&&v!=null&&this._tryShow({offsetX:f,offsetY:v,target:h.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,i,n,a){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(gr(a,n))},e.prototype._manuallyAxisShowTip=function(t,i,n,a){var o=a.seriesIndex,s=a.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=i.getSeriesByIndex(o);if(!!u){var c=u.getData(),h=Dt([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(t,i){var n=t.target,a=this._tooltipModel;if(!!a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){this._lastDataByCoordSys=null;var s,l;vn(n,function(u){if(U(u).dataIndex!=null)return s=u,!0;if(U(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(t,s,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var n=t.get("showDelay");i=Q(i,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(i,n):i()},e.prototype._showAxisTooltip=function(t,i){var n=this._ecModel,a=this._tooltipModel,o=[i.offsetX,i.offsetY],s=Dt([i.tooltipOption],a),l=this._renderMode,u=[],c=Pe("section",{blocks:[],noHeader:!0}),h=[],f=new Xt;gt(t,function(m){gt(m.dataByAxis,function(x){var b=n.getComponent(x.axisDim+"Axis",x.axisIndex),w=x.value;if(!(!b||w==null)){var S=vi(w,b.axis,n,x.seriesDataIndices,x.valueLabelOpt),C=Pe("section",{header:S,noHeader:!dn(S),sortBlocks:!0,blocks:[]});c.blocks.push(C),_(x.seriesDataIndices,function(T){var L=n.getSeriesByIndex(T.seriesIndex),M=T.dataIndexInside,A=L.getDataParams(M);A.axisDim=x.axisDim,A.axisIndex=x.axisIndex,A.axisType=x.axisType,A.axisId=x.axisId,A.axisValue=xe(b.axis,{value:w}),A.axisValueLabel=S,A.marker=f.makeTooltipMarker("item",Gt(A.color),l);var k=De(L.formatTooltip(M,!0,null));k.markupFragment&&C.blocks.push(k.markupFragment),k.markupText&&h.push(k.markupText),u.push(A)})}})}),c.blocks.reverse(),h.reverse();var v=i.position,d=s.get("order"),p=Oe(c,f,l,d,n.get("useUTC"),s.get("textStyle"));p&&h.unshift(p);var y=l==="richText"?`

`:"<br/>",g=h.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,g,u,Math.random()+"",o[0],o[1],v,null,f)})},e.prototype._showSeriesItemTooltip=function(t,i,n){var a=this._ecModel,o=U(i),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,h=o.dataType,f=u.getData(h),v=this._renderMode,d=t.positionDefault,p=Dt([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),y=p.get("trigger");if(!(y!=null&&y!=="item")){var g=u.getDataParams(c,h),m=new Xt;g.marker=m.makeTooltipMarker("item",Gt(g.color),v);var x=De(u.formatTooltip(c,!1,h)),b=p.get("order"),w=x.markupFragment?Oe(x.markupFragment,m,v,b,a.get("useUTC"),p.get("textStyle")):x.markupText,S="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,w,g,S,t.offsetX,t.offsetY,t.position,t.target,m)}),n({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,n){var a=U(i),o=a.tooltipConfig,s=o.option||{};if(V(s)){var l=s;s={content:l,formatter:l}}var u=[s],c=this._ecModel.getComponent(a.componentMainType,a.componentIndex);c&&u.push(c),u.push({formatter:s.content});var h=t.positionDefault,f=Dt(u,this._tooltipModel,h?{position:h}:null),v=f.get("content"),d=Math.random()+"",p=new Xt;this._showOrMove(f,function(){var y=Ft(f.get("formatterParams")||{});this._showTooltipContent(f,v,y,d,t.offsetX,t.offsetY,t.position,i,p)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,n,a,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var h=this._tooltipContent,f=t.get("formatter");l=l||t.get("position");var v=i,d=this._getNearestPoint([o,s],n,t.get("trigger"),t.get("borderColor")),p=d.color;if(f&&V(f)){var y=t.ecModel.get("useUTC"),g=D(n)?n[0]:n,m=g&&g.axisType&&g.axisType.indexOf("time")>=0;v=f,m&&(v=Sr(g.axisValue,v,y)),v=pn(v,n,!0)}else if(nt(f)){var x=dr(function(b,w){b===this._ticket&&(h.setContent(w,c,t,p,l),this._updatePosition(t,l,o,s,h,n,u))},this);this._ticket=a,v=f(n,a,x)}h.setContent(v,c,t,p,l),h.show(t,p),this._updatePosition(t,l,o,s,h,n,u)}},e.prototype._getNearestPoint=function(t,i,n,a){if(n==="axis"||D(i))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!D(i))return{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,n,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();i=i||t.get("position");var h=o.getSize(),f=t.get("align"),v=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),nt(i)&&(i=i([n,a],s,o.el,d,{viewSize:[u,c],contentSize:h.slice()})),D(i))n=pr(i[0],u),a=pr(i[1],c);else if(J(i)){var p=i;p.width=h[0],p.height=h[1];var y=_t(p,{width:u,height:c});n=y.x,a=y.y,f=null,v=null}else if(V(i)&&l){var g=Vo(i,d,h);n=g[0],a=g[1]}else{var g=Ho(n,a,o,u,c,f?null:20,v?null:20);n=g[0],a=g[1]}if(f&&(n-=yr(f)?h[0]/2:f==="right"?h[0]:0),v&&(a-=yr(v)?h[1]/2:v==="bottom"?h[1]:0),xi(t)){var g=Fo(n,a,o,u,c);n=g[0],a=g[1]}o.moveTo(n,a)},e.prototype._updateContentNotChangedOnAxis=function(t){var i=this._lastDataByCoordSys,n=!!i&&i.length===t.length;return n&&gt(i,function(a,o){var s=a.dataByAxis||[],l=t[o]||{},u=l.dataByAxis||[];n=n&&s.length===u.length,n&&gt(s,function(c,h){var f=u[h]||{},v=c.seriesDataIndices||[],d=f.seriesDataIndices||[];n=n&&c.value===f.value&&c.axisType===f.axisType&&c.axisId===f.axisId&&v.length===d.length,n&&gt(v,function(p,y){var g=d[y];n=n&&p.seriesIndex===g.seriesIndex&&p.dataIndex===g.dataIndex})})}),this._lastDataByCoordSys=t,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){B.node||(this._tooltipContent.dispose(),ue("itemTooltip",i))},e.type="tooltip",e}(At);function Dt(r,e,t){var i=e.ecModel,n;t?(n=new rt(t,i,i),n=new rt(e.option,n,i)):n=e;for(var a=r.length-1;a>=0;a--){var o=r[a];o&&(o instanceof rt&&(o=o.get("tooltip",!0)),V(o)&&(o={formatter:o}),o&&(n=new rt(o,n,i)))}return n}function gr(r,e){return r.dispatchAction||Q(e.dispatchAction,e)}function Ho(r,e,t,i,n,a,o){var s=t.getOuterSize(),l=s.width,u=s.height;return a!=null&&(r+l+a+2>i?r-=l+a:r+=a),o!=null&&(e+u+o>n?e-=u+o:e+=o),[r,e]}function Fo(r,e,t,i,n){var a=t.getOuterSize(),o=a.width,s=a.height;return r=Math.min(r+o,i)-o,e=Math.min(e+s,n)-s,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function Vo(r,e,t){var i=t[0],n=t[1],a=10,o=5,s=0,l=0,u=e.width,c=e.height;switch(r){case"inside":s=e.x+u/2-i/2,l=e.y+c/2-n/2;break;case"top":s=e.x+u/2-i/2,l=e.y-n-a;break;case"bottom":s=e.x+u/2-i/2,l=e.y+c+a;break;case"left":s=e.x-i-a-o,l=e.y+c/2-n/2;break;case"right":s=e.x+u+a+o,l=e.y+c/2-n/2}return[s,l]}function yr(r){return r==="center"||r==="middle"}function Wo(r,e,t){var i=gn(r).queryOptionMap,n=i.keys()[0];if(!(!n||n==="series")){var a=yn(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(!!o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=U(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:n,componentIndex:o.componentIndex,el:l}}}}const $o=Go;function ls(r){ft(yi),r.registerComponentModel(To),r.registerComponentView($o),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}var Yo=function(r,e){if(e==="all")return{type:"all",title:r.getLocale(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocale(["legend","selector","inverse"])}},Xo=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,i,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,n=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),D(i)&&_(i,function(a,o){V(a)&&(a={type:a}),i[o]=K(a,Yo(n,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,n=0;n<t.length;n++){var a=t[n].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],n=[];t.eachRawSeries(function(s){var l=s.name;n.push(l);var u;if(s.legendVisualProvider){var c=s.legendVisualProvider,h=c.getAllNames();t.isSeriesFiltered(s)||(n=n.concat(h)),h.length?i=i.concat(h):u=!0}else u=!0;u&&mn(s)&&i.push(s.name)}),this._availableNames=n;var a=this.get("data")||i,o=E(a,function(s){return(typeof s=="string"||typeof s=="number")&&(s={name:s}),new rt(s,this,this.ecModel)},this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected,n=this.get("selectedMode");if(n==="single"){var a=this._data;_(a,function(o){i[o.get("name")]=!1})}i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;_(t,function(n){i[n.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;_(t,function(n){var a=n.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&lt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Tt);const ce=Xo;var st=O,xr=_,Ot=ht,Zo=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Ot),this.group.add(this._selectorGroup=new Ot),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,i,n,l,s,u);var c=t.getBoxLayoutParams(),h={width:n.getWidth(),height:n.getHeight()},f=t.get("padding"),v=_t(c,h,f),d=this.layoutInner(t,o,v,a,l,u),p=_t(W({width:d.width,height:d.height},c),h,f);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=So(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,n,a,o,s,l){var u=this.getContentGroup(),c=ve(),h=i.get("selectedMode"),f=[];n.eachRawSeries(function(v){!v.get("legendHoverLink")&&f.push(v.id)}),xr(i.getData(),function(v,d){var p=v.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var y=new Ot;y.newline=!0,u.add(y);return}var g=n.getSeriesByName(p)[0];if(!c.get(p)){if(g){var m=g.getData(),x=m.getVisual("legendLineStyle")||{},b=m.getVisual("legendIcon"),w=m.getVisual("style"),S=this._createItem(g,p,d,v,i,t,x,w,b,h);S.on("click",st(mr,p,null,a,f)).on("mouseover",st(he,g.name,null,a,f)).on("mouseout",st(fe,g.name,null,a,f)),c.set(p,!0)}else n.eachRawSeries(function(C){if(!c.get(p)&&C.legendVisualProvider){var T=C.legendVisualProvider;if(!T.containName(p))return;var L=T.indexOfName(p),M=T.getItemVisual(L,"style"),A=T.getItemVisual(L,"legendIcon"),k=bn(M.fill);k&&k[3]===0&&(k[3]=.2,M.fill=_n(k,"rgba"));var N=this._createItem(C,p,d,v,i,t,{},M,A,h);N.on("click",st(mr,null,p,a,f)).on("mouseover",st(he,null,p,a,f)).on("mouseout",st(fe,null,p,a,f)),c.set(p,!0)}},this);c.get(p)||console.warn(p+" series not exists. Legend data should be same with series name or data name.")}},this),o&&this._createSelector(o,i,a,s,l)},e.prototype._createSelector=function(t,i,n,a,o){var s=this.getSelectorGroup();xr(t,function(u){var c=u.type,h=new at({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(h);var f=i.getModel("selectorLabel"),v=i.getModel(["emphasis","selectorLabel"]);wn(h,{normal:f,emphasis:v},{defaultText:u.title}),Be(h)})},e.prototype._createItem=function(t,i,n,a,o,s,l,u,c,h){var f=t.visualDrawType,v=o.get("itemWidth"),d=o.get("itemHeight"),p=o.isSelected(i),y=a.get("symbolRotate"),g=a.get("icon");c=g||c||"roundRect";var m=o.getModel("lineStyle"),x=Uo(c,a,m,l,u,f,p),b=new Ot,w=a.getModel("textStyle");if(typeof t.getLegendIcon=="function"&&(!g||g==="inherit"))b.add(t.getLegendIcon({itemWidth:v,itemHeight:d,icon:c,iconRotate:y,itemStyle:x.itemStyle,lineStyle:x.lineStyle}));else{var S=g==="inherit"&&t.getData().getVisual("symbol")?y==="inherit"?t.getData().getVisual("symbolRotate"):y:0;b.add(Ko({itemWidth:v,itemHeight:d,icon:c,iconRotate:S,itemStyle:x.itemStyle,lineStyle:x.lineStyle}))}var C=s==="left"?v+5:-5,T=s,L=o.get("formatter"),M=i;typeof L=="string"&&L?M=L.replace("{name}",i!=null?i:""):typeof L=="function"&&(M=L(i));var A=a.get("inactiveColor");b.add(new at({style:Ht(w,{text:M,x:C,y:d/2,fill:p?w.getTextColor():A,align:T,verticalAlign:"middle"})}));var k=new vt({shape:b.getBoundingRect(),invisible:!0}),N=a.getModel("tooltip");return N.get("show")&&Nr({el:k,componentModel:o,itemName:i,itemTooltipOption:N.option}),b.add(k),b.eachChild(function(dt){dt.silent=!0}),k.silent=!h,this.getContentGroup().add(b),Be(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,i,n,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ut(t.get("orient"),l,t.get("itemGap"),n.width,n.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){ut("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),v=[-f.x,-f.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,y=p===0?"width":"height",g=p===0?"height":"width",m=p===0?"y":"x";s==="end"?v[p]+=c[y]+d:h[p]+=f[y]+d,v[1-p]+=c[g]/2-f[g]/2,u.x=v[0],u.y=v[1],l.x=h[0],l.y=h[1];var x={x:0,y:0};return x[y]=c[y]+d+f[y],x[g]=Math.max(c[g],f[g]),x[m]=Math.min(0,f[m]+v[1-p]),x}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(At);function Uo(r,e,t,i,n,a,o){for(var s=e.getModel("itemStyle"),l=Sn.concat([["decal"]]),u={},c=0;c<l.length;++c){var h=l[c][l[c].length-1],f=l[c][0],v=s.getShallow(h);if(v==="inherit")switch(f){case"fill":u.fill=n[a];break;case"stroke":u.stroke=n[r.lastIndexOf("empty",0)===0?"fill":"stroke"];break;case"opacity":u.opacity=(a==="fill"?n:i).opacity;break;default:u[f]=n[f]}else v==="auto"&&f==="lineWidth"?u.lineWidth=n.lineWidth>0?2:0:u[f]=v}for(var d=e.getModel("lineStyle"),p=Cn.concat([["inactiveColor"],["inactiveWidth"]]),y={},c=0;c<p.length;++c){var h=p[c][1],f=p[c][0],v=d.getShallow(h);v==="inherit"?y[f]=i[f]:v==="auto"&&f==="lineWidth"?y.lineWidth=i.lineWidth>0?2:0:y[f]=v}if(u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),y.stroke==="auto"&&(y.stroke=n.fill),!o){var g=e.get("inactiveBorderWidth"),m=u[r.indexOf("empty")>-1?"fill":"stroke"];u.lineWidth=g==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),y.stroke=t.get("inactiveColor"),y.lineWidth=t.get("inactiveWidth")}return{itemStyle:u,lineStyle:y}}function Ko(r){var e=r.icon||"roundRect",t=zr(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function mr(r,e,t,i){fe(r,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:r!=null?r:e}),he(r,e,t,i)}function wi(r){for(var e=r.getZr().storage.getDisplayList(),t,i=0,n=e.length;i<n&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function he(r,e,t,i){wi(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:i})}function fe(r,e,t,i){wi(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:i})}const Si=Zo;function qo(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function yt(r,e,t){var i={},n=r==="toggleSelected",a;return t.eachComponent("legend",function(o){n&&a!=null?o[a?"select":"unSelect"](e.name):r==="allSelect"||r==="inverseSelect"?o[r]():(o[r](e.name),a=o.isSelected(e.name));var s=o.getData();_(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);i.hasOwnProperty(u)?i[u]=i[u]&&c:i[u]=c}})}),r==="allSelect"||r==="inverseSelect"?{selected:i}:{name:e.name,selected:i}}function jo(r){r.registerAction("legendToggleSelect","legendselectchanged",O(yt,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",O(yt,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",O(yt,"inverseSelect")),r.registerAction("legendSelect","legendselected",O(yt,"select")),r.registerAction("legendUnSelect","legendunselected",O(yt,"unSelect"))}function Ci(r){r.registerComponentModel(ce),r.registerComponentView(Si),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,qo),r.registerSubTypeDefaulter("legend",function(){return"plain"}),jo(r)}var Jo=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,n){var a=Br(t);r.prototype.init.call(this,t,i,n),br(this,t,a)},e.prototype.mergeOption=function(t,i){r.prototype.mergeOption.call(this,t,i),br(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Tn(ce.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(ce);function br(r,e,t){var i=r.getOrient(),n=[1,1];n[i.index]=0,Er(e,t,{type:"box",ignoreSize:!!n})}const Qo=Jo;var _r=ht,Jt=["width","height"],Qt=["x","y"],ts=function(r){I(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new _r),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new _r)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,n,a,o,s,l){var u=this;r.prototype.renderInner.call(this,t,i,n,a,o,s,l);var c=this._controllerGroup,h=i.get("pageIconSize",!0),f=D(h)?h:[h,h];d("pagePrev",0);var v=i.getModel("pageTextStyle");c.add(new at({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(p,y){var g=p+"DataIndex",m=Fr(i.get("pageIcons",!0)[i.getOrient().name][y],{onclick:Q(u._pageGo,u,g,i,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});m.name=p,c.add(m)}},e.prototype.layoutInner=function(t,i,n,a,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=Jt[u],h=Qt[u],f=Jt[1-u],v=Qt[1-u];o&&ut("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),y=[-p.x,-p.y],g=Ft(n);o&&(g[c]=n[c]-p[c]-d);var m=this._layoutContentAndController(t,a,g,u,c,f,v,h);if(o){if(s==="end")y[u]+=m[c]+d;else{var x=p[c]+d;y[u]-=x,m[h]-=x}m[c]+=p[c]+d,y[1-u]+=m[v]+m[f]/2-p[f]/2,m[f]=Math.max(m[f],p[f]),m[v]=Math.min(m[v],p[v]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,i,n,a,o,s,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;ut(t.get("orient"),c,t.get("itemGap"),a?n.width:null,a?null:n.height),ut("horizontal",f,t.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),d=f.getBoundingRect(),p=this._showController=v[o]>n[o],y=[-v.x,-v.y];i||(y[a]=c[u]);var g=[0,0],m=[-d.x,-d.y],x=An(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var b=t.get("pageButtonPosition",!0);b==="end"?m[a]+=n[o]-d[o]:g[a]+=d[o]+x}m[1-a]+=v[s]/2-d[s]/2,c.setPosition(y),h.setPosition(g),f.setPosition(m);var w={x:0,y:0};if(w[o]=p?n[o]:v[o],w[s]=Math.max(v[s],d[s]),w[l]=Math.min(0,d[l]+m[1-a]),h.__rectSize=n[o],p){var S={x:0,y:0};S[o]=Math.max(n[o]-d[o]-x,0),S[s]=w[s],h.setClipPath(new vt({shape:S})),h.__rectSize=S[o]}else f.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(t);return C.pageIndex!=null&&Vr(c,{x:C.contentPosition[0],y:C.contentPosition[1]},p?t:null),this._updatePageInfoView(t,C),w},e.prototype._pageGo=function(t,i,n){var a=this._getPageInfo(i)[t];a!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var n=this._controllerGroup;_(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=i[h]!=null,v=n.childOfName(c);v&&(v.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),v.cursor=f?"pointer":"default")});var a=n.childOfName("pageText"),o=t.get("pageFormatter"),s=i.pageIndex,l=s!=null?s+1:0,u=i.pageCount;a&&o&&a.setStyle("text",V(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=Jt[o],l=Qt[o],u=this._findTargetItemIndex(i),c=n.children(),h=c[u],f=c.length,v=f?1:0,d={contentPosition:[n.x,n.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return d;var p=b(h);d.contentPosition[o]=-p.s;for(var y=u+1,g=p,m=p,x=null;y<=f;++y)x=b(c[y]),(!x&&m.e>g.s+a||x&&!w(x,g.s))&&(m.i>g.i?g=m:g=x,g&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=g.i),++d.pageCount)),m=x;for(var y=u-1,g=p,m=p,x=null;y>=-1;--y)x=b(c[y]),(!x||!w(m,x.s))&&g.i<m.i&&(m=g,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=x;return d;function b(S){if(S){var C=S.getBoundingRect(),T=C[l]+S[l];return{s:T,e:T+C[s],i:S.__legendDataIndex}}}function w(S,C){return S.e>=C&&S.s<=C+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var i,n=this.getContentGroup(),a;return n.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===t&&(i=s)}),i!=null?i:a},e.type="legend.scroll",e}(Si);const es=ts;function rs(r){r.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(n){n.setScrollDataIndex(i)})})}function is(r){ft(Ci),r.registerComponentModel(Qo),r.registerComponentView(es),rs(r)}function us(r){ft(Ci),ft(is)}export{us as a,os as b,Za as c,Zn as e,ls as i,ss as l,So as m,as as u};

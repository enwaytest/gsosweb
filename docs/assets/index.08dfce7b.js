import{G as k,d as Y,v as j,D as B,i as q,y as K,x as Z,E as J,z as T,l as f,o as S,c as z,a as p,w as y,s as ee,F as te,B as ae,q as b,m as I,A as re,e as ne,b as _,t as ie,p as oe,f as se,_ as le}from"./index.13b914b0.js";import{_ as x,N as ue,I as ce,Q as de,G as pe,bQ as he,b3 as me,V as ye,bR as W,bS as fe,C as ge,u as $,K as E,M as s,bT as _e,i as ve,a as Se,b as N}from"./charts.5cd0d0e1.js";import{L as P}from"./date.d3ef1511.js";import{T as be}from"./index.82070f6a.js";import{c as we,b as xe,a as De,i as Ce}from"./install.f8e002fe.js";var Fe=function(n){x(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,r){return ue(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,r,a){return a.point(r.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},t}(ce);const Le=Fe;var H=4,Ae=function(){function n(){}return n}(),w=function(n){x(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Ae},t.prototype.buildPath=function(e,r){var a=r.points,i=r.size,o=this.symbolProxy,l=o.shape,u=e.getContext?e.getContext():e,c=u&&i[0]<H;if(c){this._ctx=u;return}this._ctx=null;for(var d=0;d<a.length;){var h=a[d++],m=a[d++];isNaN(h)||isNaN(m)||this.softClipShape&&!this.softClipShape.contain(h,m)||(l.x=h-i[0]/2,l.y=m-i[1]/2,l.width=i[0],l.height=i[1],o.buildPath(e,l,!0))}},t.prototype.afterBrush=function(){var e=this.shape,r=e.points,a=e.size,i=this._ctx;if(!!i)for(var o=0;o<r.length;){var l=r[o++],u=r[o++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||i.fillRect(l-a[0]/2,u-a[1]/2,a[0],a[1])}},t.prototype.findDataIndex=function(e,r){for(var a=this.shape,i=a.points,o=a.size,l=Math.max(o[0],4),u=Math.max(o[1],4),c=i.length/2-1;c>=0;c--){var d=c*2,h=i[d]-l/2,m=i[d+1]-u/2;if(e>=h&&r>=m&&e<=h+l&&r<=m+u)return c}return-1},t}(de),Be=function(){function n(){this.group=new pe}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t,e){this.group.removeAll();var r=new w({rectHover:!0,cursor:"default"});r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,!1,e),this.group.add(r),this._incremental=null},n.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var a=(r.endIndex-r.startIndex)*2,i=r.startIndex*4*2;e=new Float32Array(e.buffer,i,a)}r.setShape("points",e)})}},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new he({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e,r){var a;this._incremental?(a=new w,this._incremental.addDisplayable(a,!0)):(a=new w({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end}),a.incremental=!0,this.group.add(a)),a.setShape({points:e.getLayout("points")}),this._setCommon(a,e,!!this._incremental,r)},n.prototype._setCommon=function(t,e,r,a){var i=e.hostModel;a=a||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=a.clipShape||null,t.symbolProxy=me(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var l=t.shape.size[0]<H;t.useStyle(i.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var u=e.getVisual("style"),c=u&&u.fill;if(c&&t.setColor(c),!r){var d=ye(t);d.seriesIndex=i.seriesIndex,t.on("mousemove",function(h){d.dataIndex=null;var m=t.findDataIndex(h.offsetX,h.offsetY);m>=0&&(d.dataIndex=m+(t.startIndex||0))})}},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}();const Te=Be;var ze=function(n){x(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,a){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,a){var i=e.getData(),o=this._updateSymbolDraw(i,e);o.incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,a){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,a){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=W("").reset(e,r,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,a=r&&r.getArea&&r.getArea();return e.get("clip",!0)?a:null},t.prototype._updateSymbolDraw=function(e,r){var a=this._symbolDraw,i=r.pipelineContext,o=i.large;return(!a||o!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=o?new Te:new fe,this._isLargeDraw=o,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ge);const Ie=ze;function Ee(n){$(we),n.registerSeriesModel(Le),n.registerChartView(Ie),n.registerLayout(W("scatter"))}function M({dateTime:n=[],placeholderColor:t,borderColor:e}){const a=[],i=[],o=[];for(let l=0;l<40;l++){if(n.length>0){const u=(new Date(n[1]).getTime()-new Date(n[0]).getTime())/40,c=new Date(n[0]).getTime()+u*l;a.push(E(c).format("MM-DD"))}else a.push(E().subtract(40-l,"day").format("MM-DD"));i.push(s().toString()),o.push(s().toString())}return{color:k(),xAxis:{data:a,axisLabel:{color:t},splitLine:{show:!1},axisLine:{lineStyle:{color:e,width:1}}},yAxis:{type:"value",axisLabel:{color:t},nameTextStyle:{padding:[0,0,0,60]},axisTick:{show:!1,axisLine:{show:!1}},axisLine:{show:!1},splitLine:{lineStyle:{color:e}}},tooltip:{trigger:"item"},grid:{top:"5px",left:"25px",right:"5px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:["S50","X1"],itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:t}},series:[{name:"S50",symbolSize:10,data:o.reverse(),type:"scatter"},{name:"X1",symbolSize:10,data:i.concat(i.reverse()),type:"scatter"}]}}function V({dateTime:n=[],placeholderColor:t,borderColor:e}){let r=["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"];return n.length>0&&(r=_e(n,7)),{color:k(),grid:{top:"5%",right:"10px",left:"30px",bottom:"60px"},legend:{left:"center",bottom:"0",orient:"horizontal",data:["V40","S50","S75","X1"],textStyle:{fontSize:12,color:t}},xAxis:{type:"category",data:r,boundaryGap:!1,axisLabel:{color:t},axisLine:{lineStyle:{color:e,width:1}}},yAxis:{type:"value",axisLabel:{color:t},splitLine:{lineStyle:{color:e}}},tooltip:{trigger:"item"},series:[{showSymbol:!0,symbol:"circle",symbolSize:8,name:"V40",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{borderColor:e,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"S50",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{borderColor:e,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"S75",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{borderColor:e,borderWidth:1}},{showSymbol:!0,symbol:"circle",symbolSize:8,name:"X1",stack:"\u603B\u91CF",data:[s(),s(),s(),s(),s(),s(),s()],type:"line",itemStyle:{borderColor:e,borderWidth:1}}]}}const Ne=[{title:"\u603B\u7533\u8BF7\u6570\uFF08\u6B21\uFF09",number:"1126",upTrend:"10%"},{title:"\u5BA2\u6237\u6570\u91CF\uFF08\u4E2A\uFF09",number:"13",downTrend:"13%"},{title:"\u62A5\u5907\u5546\u54C1\u54C1\u7C7B\uFF08\u7C7B\uFF09",number:"4",upTrend:"10%"},{title:"\u7533\u8BF7\u4EBA\u6570\u91CF\uFF08\u4EBA\uFF09",number:90,downTrend:"44%",leftType:"icon-file-paste"},{title:"\u7533\u8BF7\u5B8C\u6210\u7387\uFF08%\uFF09",number:80.5,upTrend:"70%"},{title:"\u7B7E\u5355\u53CA\u65F6\u7387\uFF08%\uFF09",number:78,upTrend:"16%"}],O=n=>(oe("data-v-42ec3e0e"),n=n(),se(),n),Pe={class:"dashboard-panel-detail"},Me={class:"dashboard-list-card__number"},Ve={class:"dashboard-list-card__text"},ke={class:"dashboard-list-card__text-left"},We=O(()=>_("div",{id:"lineContainer",style:{width:"100%",height:"412px"}},null,-1)),$e=O(()=>_("div",{id:"scatterContainer",style:{width:"100%",height:"434px"}},null,-1)),He={name:"DashboardDetail"},Oe=Y({...He,setup(n){$([xe,De,Ce,ve,Ee,Se]);const t=j(),e=B(()=>t.chartColors);let r,a;const i=()=>{r=document.getElementById("lineContainer"),a=N(r),a.setOption(V({...e.value}))};let o,l;const u=()=>{o=document.getElementById("scatterContainer"),l=N(o),l.setOption(M({...e.value}))},c=()=>{a==null||a.resize({width:r.clientWidth,height:r.clientHeight}),l==null||l.resize({width:o.clientWidth,height:o.clientHeight})},d=()=>{u(),i()};q(()=>{d(),window.addEventListener("resize",c,!1),K(()=>{c()})}),Z(()=>{window.removeEventListener("resize",c)}),J(()=>{h(),m()});const h=T(()=>t.mode,()=>{d()}),m=T(()=>t.brandTheme,()=>{re([a,l])}),R=()=>{l.setOption(M({...e.value}))},U=D=>{const C=B(()=>t.chartColors);a.setOption(V({dateTime:D,...C.value}))};return(D,C)=>{const X=f("t-icon"),v=f("t-card"),F=f("t-col"),L=f("t-row"),A=f("t-date-range-picker"),G=f("t-button");return S(),z("div",Pe,[p(v,{title:"\u672C\u6708\u9500\u552E\u62A5\u5907\u60C5\u51B5",class:"dashboard-detail-card",bordered:!1},{default:y(()=>[p(L,{gutter:[16,16]},{default:y(()=>[(S(!0),z(te,null,ae(b(Ne),(g,Q)=>(S(),ne(F,{key:Q,xs:6,xl:3},{default:y(()=>[p(v,{class:"dashboard-list-card",description:g.title},{default:y(()=>[_("div",Me,ie(g.number),1),_("div",Ve,[_("div",ke,[I(" \u73AF\u6BD4 "),p(be,{class:"icon",type:g.upTrend?"up":"down",describe:g.upTrend||g.downTrend},null,8,["type","describe"])]),p(X,{name:"chevron-right"})])]),_:2},1032,["description"])]),_:2},1024))),128))]),_:1})]),_:1}),p(L,{gutter:[16,16],class:"row-margin"},{default:y(()=>[p(F,{xs:12,xl:9},{default:y(()=>[p(v,{class:"dashboard-detail-card",title:"\u9500\u552E\u62A5\u5907\u7533\u8BF7\u8D8B\u52BF",subtitle:"(\u4EF6)",bordered:!1},{actions:y(()=>[p(A,{class:"card-date-picker-container","default-value":b(P),theme:"primary",mode:"date",style:{width:"248px"},onChange:U},null,8,["default-value"])]),default:y(()=>[We]),_:1})]),_:1})]),_:1}),p(v,{class:ee(["dashboard-detail-card","row-margin"]),title:"\u5546\u54C1\u6EE1\u610F\u5EA6\u5206\u5E03",bordered:!1},{actions:y(()=>[p(A,{class:"card-date-picker-container","default-value":b(P),theme:"primary",mode:"date",style:{display:"inline-block","margin-right":"var(--td-comp-margin-s)",width:"248px"},onChange:R},null,8,["default-value"]),p(G,{class:"card-date-button"},{default:y(()=>[I(" \u5BFC\u51FA\u6570\u636E ")]),_:1})]),default:y(()=>[$e]),_:1})])}}});const Ye=le(Oe,[["__scopeId","data-v-42ec3e0e"],["__file","/Users/tzz/src/enway/gsosweb/src/pages/dashboard/detail/index.vue"]]);export{Ye as default};
